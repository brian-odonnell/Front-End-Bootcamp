function roundToWithThousands(a,b,c){var d=1*unFormat(a,b);if("number"==typeof d&&"none"!=c)if(0>=c){var e=-c;d=+(Math.round(d+"e+"+e)+"e-"+e)}else{var e=c,f="1e+"+e;value=+Math.round(d/f)*f}return d=fmtChartJS(a,d,"none")}function unFormat(a,b){if("."==a.decimalSeparator&&""==a.thousandSeparator||"string"!=typeof b)return b;var c=""+b;if(""!=a.thousandSeparator)for(;c.indexOf(a.thousandSeparator)>=0;)c=""+c.replace(a.thousandSeparator,"");return"."!=a.decimalSeparator&&(c=""+c.replace(a.decimalSeparator,".")),1*c}function fmtChartJSPerso(a,b,c){switch(c){case"SampleJS_Format":return_value="number"==typeof b?"My Format : "+b.toString()+" $":b+"XX";break;case"Change_Month":return_value="string"==typeof b?b.toString()+" 2014":b.toString()+"YY";break;default:return_value=b}return return_value}function fmtChartJS(a,b,c){var d;if("notformatted"==c)d=b;else if("none"==c&&"number"==typeof b){if("none"!=a.roundNumber)if(a.roundNumber<=0){var e=-a.roundNumber;b=+(Math.round(b+"e+"+e)+"e-"+e)}else{var e=a.roundNumber,f="1e+"+e;b=+Math.round(b/f)*f}if("."!=a.decimalSeparator||""!=a.thousandSeparator){if(d=b.toString().replace(/\./g,a.decimalSeparator),""!=a.thousandSeparator){var g=d,h="",i=g.indexOf(a.decimalSeparator);i>=0&&(h=g.substring(i+1,g.length),h=h.split("").reverse().join(""),g=g.substring(0,i)),g=g.toString().replace(/\B(?=(\d{3})+(?!\d))/g,a.thousandSeparator),h=h.split("").reverse().join(""),d=g,""!=h&&(d=d+a.decimalSeparator+h)}}else d=b}else d=fmtChartJSPerso(a,b,c);return d}function tmplbis(a,b){var c=/\W/.test(a)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+a.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):cachebis[a]=cachebis[a]||tmplbis(document.getElementById(a).innerHTML);return b?c(b):c}function createCursorDiv(){if(0==cursorDivCreated){var a=document.createElement("divCursor");a.id="divCursor",a.style.position="absolute",document.body.appendChild(a),cursorDivCreated=!0}}function checkBrowser(){return this.ver=navigator.appVersion,this.dom=document.getElementById?1:0,this.ie5=this.ver.indexOf("MSIE 5")>-1&&this.dom?1:0,this.ie4=document.all&&!this.dom?1:0,this.ns5=this.dom&&parseInt(this.ver)>=5?1:0,this.ns4=document.layers&&!this.dom?1:0,this.bw=this.ie5||this.ie4||this.ns4||this.ns5,this}function cursorInit(){scrolled=bw.ns4||bw.ns5?"window.pageYOffset":"document.body.scrollTop",bw.ns4&&document.captureEvents(Event.MOUSEMOVE)}function makeCursorObj(obj,nest){return createCursorDiv(),nest=nest?"document."+nest+".":"",this.css=bw.dom?document.getElementById(obj).style:bw.ie4?document.all[obj].style:bw.ns4?eval(nest+"document.layers."+obj):0,this.moveIt=b_moveIt,cursorInit(),this}function b_moveIt(a,b){this.x=a,this.y=b,this.css.left=this.x+"px",this.css.top=this.y+"px"}function isIE(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("msie")?parseInt(a.split("msie")[1]):!1}function mergeChartConfig(a,b){var c={};for(var d in a)c[d]=a[d];for(var d in b)c[d]=b[d];return c}function sleep(a){var b=new Date;for(b.setTime(b.getTime()+a);(new Date).getTime()<b.getTime(););}function saveCanvas(a,b,c,d){cvSave=a.getImageData(0,0,a.canvas.width,a.canvas.height);var e={savePng:!1,annotateDisplay:!1,animation:!1,dynamicDisplay:!1},f=mergeChartConfig(c,e);switch(f.clearRect=!1,d){case"Bar":new Chart(a.canvas.getContext("2d")).Bar(b,f);break;case"Pie":new Chart(a.canvas.getContext("2d")).Pie(b,f);break;case"Doughnut":new Chart(a.canvas.getContext("2d")).Doughnut(b,f);break;case"Radar":new Chart(a.canvas.getContext("2d")).Radar(b,f);break;case"PolarArea":new Chart(a.canvas.getContext("2d")).PolarArea(b,f);break;case"HorizontalBar":new Chart(a.canvas.getContext("2d")).HorizontalBar(b,f);break;case"StackedBar":new Chart(a.canvas.getContext("2d")).StackedBar(b,f);break;case"HorizontalStackedBar":new Chart(a.canvas.getContext("2d")).HorizontalStackedBar(b,f);break;case"Line":new Chart(a.canvas.getContext("2d")).Line(b,f)}document.location.href=a.canvas.toDataURL("image/png").replace("image/png","image/octet-stream"),a.putImageData(cvSave,0,0)}function dynamicFunction(a,b,c,d){if(b.dynamicDisplay){if("undefined"==typeof dynamicDisplay[c.canvas.id]&&(dynamicDisplayList[dynamicDisplayList.length]=c.canvas.id,dynamicDisplay[c.canvas.id]=[c.canvas,!1,!1,a,b,c.canvas,d],dynamicDisplay[c.canvas.id][1]=isScrolledIntoView(c.canvas),window.onscroll=scrollFunction),0==dynamicDisplay[c.canvas.id][1]||1==dynamicDisplay[c.canvas.id][2])return!1;dynamicDisplay[c.canvas.id][2]=!0}return!0}function isScrolledIntoView(a){var b=0,c=0;for(elem=a;elem;)b+=elem.offsetLeft-elem.scrollLeft+elem.clientLeft,c+=elem.offsetTop-elem.scrollTop+elem.clientTop,elem=elem.offsetParent;return b+a.width/2>=window.pageXOffset&&b+a.width/2<=window.pageXOffset+window.innerWidth&&c+a.height/2>=window.pageYOffset&&c+a.height/2<=window.pageYOffset+window.innerHeight?!0:!1}function scrollFunction(){for(var a=0;a<dynamicDisplayList.length;a++)if(isScrolledIntoView(dynamicDisplay[dynamicDisplayList[a]][5])&&0==dynamicDisplay[dynamicDisplayList[a]][2])switch(dynamicDisplay[dynamicDisplayList[a]][1]=!0,dynamicDisplay[dynamicDisplayList[a]][6]){case"Bar":new Chart(document.getElementById(dynamicDisplayList[a]).getContext("2d")).Bar(dynamicDisplay[dynamicDisplayList[a]][3],dynamicDisplay[dynamicDisplayList[a]][4]);break;case"Pie":new Chart(document.getElementById(dynamicDisplayList[a]).getContext("2d")).Pie(dynamicDisplay[dynamicDisplayList[a]][3],dynamicDisplay[dynamicDisplayList[a]][4]);break;case"Doughnut":new Chart(document.getElementById(dynamicDisplayList[a]).getContext("2d")).Doughnut(dynamicDisplay[dynamicDisplayList[a]][3],dynamicDisplay[dynamicDisplayList[a]][4]);break;case"Radar":new Chart(document.getElementById(dynamicDisplayList[a]).getContext("2d")).Radar(dynamicDisplay[dynamicDisplayList[a]][3],dynamicDisplay[dynamicDisplayList[a]][4]);break;case"PolarArea":new Chart(document.getElementById(dynamicDisplayList[a]).getContext("2d")).PolarArea(dynamicDisplay[dynamicDisplayList[a]][3],dynamicDisplay[dynamicDisplayList[a]][4]);break;case"HorizontalBar":new Chart(document.getElementById(dynamicDisplayList[a]).getContext("2d")).HorizontalBar(dynamicDisplay[dynamicDisplayList[a]][3],dynamicDisplay[dynamicDisplayList[a]][4]);break;case"StackedBar":new Chart(document.getElementById(dynamicDisplayList[a]).getContext("2d")).StackedBar(dynamicDisplay[dynamicDisplayList[a]][3],dynamicDisplay[dynamicDisplayList[a]][4]);break;case"HorizontalStackedBar":new Chart(document.getElementById(dynamicDisplayList[a]).getContext("2d")).HorizontalStackedBar(dynamicDisplay[dynamicDisplayList[a]][3],dynamicDisplay[dynamicDisplayList[a]][4]);break;case"Line":new Chart(document.getElementById(dynamicDisplayList[a]).getContext("2d")).Line(dynamicDisplay[dynamicDisplayList[a]][3],dynamicDisplay[dynamicDisplayList[a]][4])}}function getMousePos(a,b){var c=a.getBoundingClientRect();return{x:b.clientX-c.left,y:b.clientY-c.top}}function doMouseMove(ctx,config,event){font="<font face="+config.annotateFontFamily+" size="+config.annotateFontSize+'px style="font-style:'+config.annotateFontStyle+";color:"+config.annotateFontColor+'">';var annotateDIV=document.getElementById("divCursor");for(annotateDIV.innerHTML="",annotateDIV.style.border="",annotateDIV.style.backgroundColor="",canvas_pos=getMousePos(ctx.canvas,event),i=0;i<jsGraphAnnotate[ctx.canvas.id].length;i++)if("ARC"==jsGraphAnnotate[ctx.canvas.id][i][0]){if(distance=Math.sqrt((canvas_pos.x-jsGraphAnnotate[ctx.canvas.id][i][1])*(canvas_pos.x-jsGraphAnnotate[ctx.canvas.id][i][1])+(canvas_pos.y-jsGraphAnnotate[ctx.canvas.id][i][2])*(canvas_pos.y-jsGraphAnnotate[ctx.canvas.id][i][2])),distance>jsGraphAnnotate[ctx.canvas.id][i][3]&&distance<jsGraphAnnotate[ctx.canvas.id][i][4]){for(angle=Math.acos((canvas_pos.x-jsGraphAnnotate[ctx.canvas.id][i][1])/distance),canvas_pos.y<jsGraphAnnotate[ctx.canvas.id][i][2]&&(angle=-angle);0>angle;)angle+=2*Math.PI;for(;angle>2*Math.PI;)angle-=2*Math.PI;angle<config.startAngle*(Math.PI/360)&&(angle+=2*Math.PI),(angle>jsGraphAnnotate[ctx.canvas.id][i][5]&&angle<jsGraphAnnotate[ctx.canvas.id][i][6]||angle>jsGraphAnnotate[ctx.canvas.id][i][5]-2*Math.PI&&angle<jsGraphAnnotate[ctx.canvas.id][i][6]-2*Math.PI||angle>jsGraphAnnotate[ctx.canvas.id][i][5]+2*Math.PI&&angle<jsGraphAnnotate[ctx.canvas.id][i][6]+2*Math.PI)&&(annotateDIV.style.border=config.annotateBorder,annotateDIV.style.padding=config.annotatePadding,annotateDIV.style.borderRadius=config.annotateBorderRadius,annotateDIV.style.backgroundColor=config.annotateBackgroundColor,v1=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][7],config.fmtV1),v2=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][8],config.fmtV2),v3=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][9],config.fmtV3),v4=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][10],config.fmtV4),v5=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][11],config.fmtV5),v6=fmtChartJS(config,100*jsGraphAnnotate[ctx.canvas.id][i][8]/jsGraphAnnotate[ctx.canvas.id][i][10],config.fmtV6),v6=roundToWithThousands(config,v6,config.roundPct),v7=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][1],config.fmtV7),v8=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][2],config.fmtV8),v9=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][3],config.fmtV9),v10=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][4],config.fmtV10),v11=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][5],config.fmtV11),v12=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][6],config.fmtV12),v13=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][12],config.fmtV13),graphPosX=canvas_pos.x,graphPosY=canvas_pos.y,dispString=tmplbis(config.annotateLabel,{config:config,v1:v1,v2:v2,v3:v3,v4:v4,v5:v5,v6:v6,v7:v7,v8:v8,v9:v9,v10:v10,v11:v11,v12:v12,v13:v13,graphPosX:graphPosX,graphPosY:graphPosY}),annotateDIV.innerHTML=font+dispString+"</font>",x=bw.ns4||bw.ns5?event.pageX:event.x,y=bw.ns4||bw.ns5?event.pageY:event.y,(bw.ie4||bw.ie5)&&(y+=eval(scrolled)),oCursor.moveIt(x+fromLeft,y+fromTop))}}else"RECT"==jsGraphAnnotate[ctx.canvas.id][i][0]?canvas_pos.x>jsGraphAnnotate[ctx.canvas.id][i][1]&&canvas_pos.x<jsGraphAnnotate[ctx.canvas.id][i][3]&&canvas_pos.y<jsGraphAnnotate[ctx.canvas.id][i][2]&&canvas_pos.y>jsGraphAnnotate[ctx.canvas.id][i][4]&&(annotateDIV.style.border=config.annotateBorder,annotateDIV.style.padding=config.annotatePadding,annotateDIV.style.borderRadius=config.annotateBorderRadius,annotateDIV.style.backgroundColor=config.annotateBackgroundColor,v1=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][5],config.fmtV1),v2=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][6],config.fmtV2),v3=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][7],config.fmtV3),v4=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][8],config.fmtV4),v5=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][9],config.fmtV5),v6=fmtChartJS(config,100*jsGraphAnnotate[ctx.canvas.id][i][7]/jsGraphAnnotate[ctx.canvas.id][i][9],config.fmtV6),v6=roundToWithThousands(config,v6,config.roundPct),v7=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][1],config.fmtV7),v8=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][2],config.fmtV8),v9=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][3],config.fmtV9),v10=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][4],config.fmtV10),v11=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][10],config.fmtV11),v12=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][11],config.fmtV12),graphPosX=canvas_pos.x,graphPosY=canvas_pos.y,dispString=tmplbis(config.annotateLabel,{config:config,v1:v1,v2:v2,v3:v3,v4:v4,v5:v5,v6:v6,v7:v7,v8:v8,v9:v9,v10:v10,v11:v11,v12:v12,graphPosX:graphPosX,graphPosY:graphPosY}),annotateDIV.innerHTML=font+dispString+"</font>",x=bw.ns4||bw.ns5?event.pageX:event.x,y=bw.ns4||bw.ns5?event.pageY:event.y,(bw.ie4||bw.ie5)&&(y+=eval(scrolled)),oCursor.moveIt(x+fromLeft,y+fromTop)):"POINT"==jsGraphAnnotate[ctx.canvas.id][i][0]&&(distance=Math.sqrt((canvas_pos.x-jsGraphAnnotate[ctx.canvas.id][i][1])*(canvas_pos.x-jsGraphAnnotate[ctx.canvas.id][i][1])+(canvas_pos.y-jsGraphAnnotate[ctx.canvas.id][i][2])*(canvas_pos.y-jsGraphAnnotate[ctx.canvas.id][i][2])),10>distance&&(annotateDIV.style.border=config.annotateBorder,annotateDIV.style.padding=config.annotatePadding,annotateDIV.style.borderRadius=config.annotateBorderRadius,annotateDIV.style.backgroundColor=config.annotateBackgroundColor,v1=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][3],config.fmtV1),v2=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][4],config.fmtV2),v3=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][5],config.fmtV3),v4=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][6],config.fmtV4),v5=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][7],config.fmtV5),v6=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][8],config.fmtV6),v7=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][9],config.fmtV7),v8=fmtChartJS(config,100*jsGraphAnnotate[ctx.canvas.id][i][5]/jsGraphAnnotate[ctx.canvas.id][i][9],config.fmtV8),v8=roundToWithThousands(config,v8,config.roundPct),v9=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][1],config.fmtV9),v10=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][2],config.fmtV10),v11=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][10],config.fmtV11),v12=fmtChartJS(config,jsGraphAnnotate[ctx.canvas.id][i][11],config.fmtV12),graphPosX=canvas_pos.x,graphPosY=canvas_pos.y,dispString=tmplbis(config.annotateLabel,{config:config,v1:v1,v2:v2,v3:v3,v4:v4,v5:v5,v6:v6,v7:v7,v8:v8,v9:v9,v10:v10,v11:v11,v12:v12,graphPosX:graphPosX,graphPosY:graphPosY}),annotateDIV.innerHTML=font+dispString+"</font>",x=bw.ns4||bw.ns5?event.pageX:event.x,y=bw.ns4||bw.ns5?event.pageY:event.y,(bw.ie4||bw.ie5)&&(y+=eval(scrolled)),oCursor.moveIt(x+fromLeft,y+fromTop)))}!function(){var a={};a.defaults={debugMode:!0,autoInit:!1},a.initPage=function(b,c){var d=document.body,e=d.getAttribute("data-section"),f=d.getAttribute("data-page"),g=d.getAttribute("data-async-script"),h=null!=d.getAttribute("data-autoload")||b===!0,i=a.getNamespacedObject(e);return h===!0&&g&&c!==!0?void a.autoLoadScript(g):void(e&&null!=i?(i.hasOwnProperty("init")&&i.init(),f&&"function"==typeof i[f]&&i[f]()):console.log("Unable to load module "+e))},a.autoLoadScript=function(b){var b=a.getScriptPath(b);console.log("Beginning asynchronous load of "+b);var c=document.createElement("script");c.type="text/javascript",c.onload=function(){a.initPage(!1,!0)},c.onerror=function(){console.log("Unable to load "+b)},c.src=b,document.head.appendChild(c)},a.namespace=function(b,c){for(var d,e=a.getPackageArray(b),f=window,g=0,h=e.length;h>g;g++)d=e[g],f[d]=f[d]||{},g===h-1?f[d]=c:f=f[d]},a.extend=function(a,b){var c,d;if("function"==typeof a){var d=function(){};return d.prototype=a.prototype,c=b,c.prototype="create"in Object?Object.create(a.prototype):new a(Array.prototype.slice.call,arguments),c.prototype._super=a.prototype,c}return"object"==typeof a?(c={},c.prototype=a,c):void 0},a.exists=function(b){return null!==a.getNamespacedObject(b)},a.getNamespacedObject=function(b){for(var c,d=a.getPackageArray(b),e=window,f=null,g=0,h=d.length;h>g;g++){if(c=d[g],"undefined"==typeof e[c]){f=!1;break}f=e=e[c]}return f},a.getPackageArray=function(a){return"string"!=typeof a?"":a.split(".")},a.getScriptPath=function(a){return/^\/\//.test(a)&&(a=document.location.protocol+a),a},a.defaults.autoInit&&$(document).ready(function(){a.initPage()}),a.namespace("HBS",a)}();var charJSPersonnalDefaultOptions={},charJSPersonnalDefaultOptionsLine={},charJSPersonnalDefaultOptionsRadar={},charJSPersonnalDefaultOptionsPolarArea={},charJSPersonnalDefaultOptionsPie={},charJSPersonnalDefaultOptionsDoughnut={},charJSPersonnalDefaultOptionsBar={},charJSPersonnalDefaultOptionsStackedBar={},charJSPersonnalDefaultOptionsHorizontalBar={},charJSPersonnalDefaultOptionsHorizontalStackedBar={},cachebis={};cursorDivCreated=!1,bw=new checkBrowser,fromLeft=10,fromTop=10,"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var dynamicDisplay=new Array,dynamicDisplayList=new Array,jsGraphAnnotate=new Array;window.Chart=function(a){function b(a,b,c,d){if(a.logarithmic)return k(q(b)*d-e(c.graphMin)*d,void 0,0);var f=c.steps*c.stepValue,g=b-c.graphMin,h=k(g/f,1,0);return d*c.steps*h}function c(a,b,c,d,e,f,g,h,i,j,l,m,n){function p(){var p=a.animation?k(t(v),null,0):1;1*r>=1*k(a.animationSteps,Number.MAX_VALUE,1)||0==a.animation?p=1:p>=1&&(p=.9999),isIE()<9&&0!=isIE()||!a.clearRect||d.clearRect(e,f,g,h),o(d,a,i,j,l,m,!1,n,p,r),a.scaleOverlay?(c(p),b()):(b(),c(p)),o(d,a,i,j,l,m,!0,n,p,r)}function q(){r++,v+=s,(r==a.animationSteps||0==a.animation)&&(v=1),p(),1>v?H(q):"function"==typeof a.onAnimationComplete&&a.onAnimationComplete()}var r=0;isIE()<9&&0!=isIE()&&(a.animation=!1);var s=a.animation?1/k(a.animationSteps,Number.MAX_VALUE,1):1,t=u[a.animationEasing],v=a.animation?0:1;"function"!=typeof b&&(b=function(){}),a.clearRect?H(q):q()}function d(a,b,c,d,g,h){var i,j,k,l,m,n,o;if(a.logarithmic?(i=Math.pow(10,e(g)),j=Math.pow(10,e(d)+1),o=e(j)-e(i)):(n=d-g,o=e(n),i=Math.floor(g/(1*Math.pow(10,o)))*Math.pow(10,o),j=Math.ceil(d/(1*Math.pow(10,o)))*Math.pow(10,o)),k=j-i,l=Math.pow(10,o),m=Math.round(k/l),a.logarithmic)m=o;else for(;c>m||m>b;)c>m?(l/=2,m=Math.round(k/l)):(l*=2,m=Math.round(k/l));var p=[];return f(a,h,p,m,i,j,l),{steps:m,stepValue:l,graphMin:i,labels:p,maxValue:d}}function e(a){return Math.floor(Math.log(a)/Math.LN10)}function f(a,b,c,d,e,f,g){if(b)if(a.logarithmic)for(var h=e;f>h;)c.push(n(b,{value:fmtChartJS(a,1*h.toFixed(l(g)),a.fmtYLabel)})),h*=10;else for(var i=0;d+1>i;i++)c.push(n(b,{value:fmtChartJS(a,1*(e+g*i).toFixed(l(g)),a.fmtYLabel)}))}function g(a){return Math.max.apply(Math,a)}function h(a){return Math.min.apply(Math,a)}function i(a,b){return a?a:b}function j(a){return!isNaN(parseFloat(a))&&isFinite(a)}function k(a,b,c){return j(b)&&a>b?b:j(c)&&c>a?c:a}function l(a){return a%1!=0?a.toString().split(".")[1].length:0}function m(a,b){var c={};for(var d in a)c[d]=a[d];for(var d in b)c[d]=b[d];return c}function n(a,b){var c=/\W/.test(a)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+a.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):I[a]=I[a]||n(document.getElementById(a).innerHTML);return b?c(b):c}function o(b,c,d,e,f,g,i,j,k,l){var m,n,o,p;for(m=0;m<c.crossText.length;m++)if(""!=c.crossText[m]&&c.crossTextOverlay[h([m,c.crossTextOverlay.length-1])]==i&&(1==l&&"first"==c.crossTextIter[h([m,c.crossTextIter.length-1])]||c.crossTextIter[h([m,c.crossTextIter.length-1])]==l||"all"==c.crossTextIter[h([m,c.crossTextIter.length-1])]||1==k&&"last"==c.crossTextIter[h([m,c.crossTextIter.length-1])])){switch(b.save(),b.beginPath(),b.font=c.crossTextFontStyle[h([m,c.crossTextFontStyle.length-1])]+" "+c.crossTextFontSize[h([m,c.crossTextFontSize.length-1])]+"px "+c.crossTextFontFamily[h([m,c.crossTextFontFamily.length-1])],b.fillStyle=c.crossTextFontColor[h([m,c.crossTextFontColor.length-1])],textAlign=c.crossTextAlign[h([m,c.crossTextAlign.length-1])],textBaseline=c.crossTextBaseline[h([m,c.crossTextBaseline.length-1])],o=1*c.crossTextPosX[h([m,c.crossTextPosX.length-1])],p=1*c.crossTextPosY[h([m,c.crossTextPosY.length-1])],1*c.crossTextRelativePosX[h([m,c.crossTextRelativePosX.length-1])]){case 0:"default"==textAlign&&(textAlign="left");break;case 1:o+=f,"default"==textAlign&&(textAlign="right");break;case 2:o+=d,"default"==textAlign&&(textAlign="center");break;case-2:o+=a.canvas.width/2,"default"==textAlign&&(textAlign="center");break;case 3:o+=o+2*d-f,"default"==textAlign&&(textAlign="left");break;case 4:o+=a.canvas.width,"default"==textAlign&&(textAlign="right");break;default:o+=d,"default"==textAlign&&(textAlign="center")}switch(1*c.crossTextRelativePosY[h([m,c.crossTextRelativePosY.length-1])]){case 0:"default"==textBaseline&&(textBaseline="top");break;case 3:p+=g,"default"==textBaseline&&(textBaseline="top");break;case 2:p+=e,"default"==textBaseline&&(textBaseline="middle");break;case-2:p+=a.canvas.height/2,"default"==textBaseline&&(textBaseline="middle");break;case 1:p+=p+2*e-g,"default"==textBaseline&&(textBaseline="bottom");break;case 4:p+=a.canvas.height,"default"==textBaseline&&(textBaseline="bottom");break;default:p+=e,"default"==textBaseline&&(textBaseline="middle")}b.textAlign=textAlign,b.textBaseline=textBaseline,b.translate(1*o,1*p),b.rotate(c.crossTextAngle[h([m,c.crossTextAngle.length-1])]),"%"==c.crossText[m].substring(0,1)?"function"==typeof c.crossTextFunction&&(n=c.crossTextFunction(m,c.crossText[m],b,c,d,e,f,g,i,j,k)):n=c.crossText[m],b.fillText(n,0,0),b.stroke(),b.restore()}}function p(a,b,c,d,e,f,h,i,j,k){"none"!=b.canvasBackgroundColor&&(c.canvas.style.background=b.canvasBackgroundColor);var l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,m=0,E=0,F=0,G=1,H=0,I=0,J=0,K=0;if(b.canvasBorders&&(l=b.canvasBordersWidth),j){c.font=b.scaleFontStyle+" "+b.scaleFontSize+"px "+b.scaleFontFamily;for(var L=0;L<a.labels.length;L++){var M=c.measureText(fmtChartJS(b,a.labels[L],b.fmtXLabel)).width;G=M>G?M:G}}if(widestYLabel=1,j&&null!=f){c.font=b.scaleFontStyle+" "+b.scaleFontSize+"px "+b.scaleFontFamily;for(var L=f.length-1;L>=0;L--)if("string"==typeof f[L]&&""!=f[L].trim()){var M=c.measureText(fmtChartJS(b,f[L],b.fmtYLabel)).width;widestYLabel=M>widestYLabel?M:widestYLabel}}if(H=l+b.spaceLeft,I=l+b.spaceRight,j&&("undefined"!=typeof b.yAxisLabel&&""!=b.yAxisLabel.trim()&&(m=b.yAxisFontSize+b.yAxisLabelSpaceLeft+b.yAxisLabelSpaceRight,yAxisLabelPosLeft=l+b.spaceLeft+b.yAxisLabelSpaceLeft+b.yAxisFontSize,yAxisLabelPosRight=e-l-b.spaceRight-b.yAxisLabelSpaceRight-b.yAxisFontSize),b.yAxisLeft&&(H=0==i?l+b.spaceLeft+m+widestYLabel+3+b.yAxisSpaceLeft+b.yAxisSpaceRight:l+b.spaceLeft+m+G+3+b.yAxisSpaceLeft+b.yAxisSpaceRight),b.yAxisRight&&(I=0==i?l+b.spaceRight+m+widestYLabel+3+b.yAxisSpaceLeft+b.yAxisSpaceRight:l+b.spaceRight+m+G+3+b.yAxisSpaceLeft+b.yAxisSpaceRight)),availableWidth=e-H-I,""!=b.graphTitle.trim()&&(n=b.graphTitleFontSize+b.graphTitleSpaceBefore+b.graphTitleSpaceAfter,o=l+b.spaceTop+n-b.graphTitleSpaceAfter),""!=b.graphSubTitle.trim()&&(p=b.graphSubTitleFontSize+b.graphSubTitleSpaceBefore+b.graphSubTitleSpaceAfter,q=l+b.spaceTop+n+p-b.graphSubTitleSpaceAfter),j&&"undefined"!=typeof b.yAxisUnit&&""!=b.yAxisUnit.trim()&&(t=b.yAxisUnitFontSize+b.yAxisUnitSpaceBefore+b.yAxisUnitSpaceAfter,u=l+b.spaceTop+n+p+t-b.yAxisUnitSpaceAfter),topNotUsableSize=l+b.spaceTop+n+p+t+b.graphSpaceBefore,"undefined"!=typeof b.footNote&&""!=b.footNote.trim()&&(r=b.footNoteFontSize+b.footNoteSpaceBefore+b.footNoteSpaceAfter,s=d-b.spaceBottom-l-b.footNoteSpaceAfter),"undefined"!=typeof b.legend&&1==b.legend){if(c.font=b.legendFontStyle+" "+b.legendFontSize+"px "+b.legendFontFamily,k){for(var L=a.datasets.length-1;L>=0;L--)if("string"==typeof a.datasets[L].title&&""!=a.datasets[L].title.trim()){w++;var M=c.measureText(a.datasets[L].title).width;v=M>v?M:v}}else for(var L=a.length-1;L>=0;L--)if("string"==typeof a[L].title&&""!=a[L].title.trim()){w++;var M=c.measureText(a[L].title).width;v=M>v?M:v}w>1&&(v+=b.legendBlockSize+b.legendSpaceBetweenBoxAndText,availableLegendWidth=e-b.spaceLeft-b.spaceRight-2*l-b.legendSpaceLeftText-b.legendSpaceRightText,1==b.legendBorders&&(availableLegendWidth-=2*b.legendBordersWidth-b.legendBordersSpaceLeft-b.legendBordersSpaceRight),maxLegendOnLine=Math.floor((availableLegendWidth+b.legendSpaceBetweenTextHorizontal)/(v+b.legendSpaceBetweenTextHorizontal)),x=Math.ceil(w/maxLegendOnLine),y=Math.ceil(w/x),z=x*(b.legendFontSize+b.legendSpaceBetweenTextVertical)-b.legendSpaceBetweenTextVertical+b.legendSpaceBeforeText+b.legendSpaceAfterText,B=d-l-b.spaceBottom-r-z+b.legendSpaceBeforeText+b.legendFontSize,A=b.spaceLeft+(e-b.spaceLeft-b.spaceRight-y*(v+b.legendSpaceBetweenTextHorizontal)+b.legendSpaceBetweenTextHorizontal)/2,1==b.legendBorders&&(z+=2*b.legendBordersWidth+b.legendBordersSpaceBefore+b.legendBordersSpaceAfter,B-=b.legendBordersWidth+b.legendBordersSpaceAfter,D=Math.floor(d-l-b.spaceBottom-r-z+b.legendBordersWidth/2+b.legendBordersSpaceBefore),C=Math.floor(A-b.legendSpaceLeftText-b.legendBordersWidth/2),legendBorderHeight=Math.ceil(z-b.legendBordersWidth)-b.legendBordersSpaceBefore-b.legendBordersSpaceAfter,legendBorderWidth=Math.ceil(y*(v+b.legendSpaceBetweenTextHorizontal))-b.legendSpaceBetweenTextHorizontal+b.legendBordersWidth+b.legendSpaceRightText+b.legendSpaceLeftText))}if(j&&"undefined"!=typeof b.xAxisLabel&&""!=b.xAxisLabel.trim()&&(E=b.xAxisFontSize+b.xAxisLabelSpaceBefore+b.xAxisLabelSpaceAfter,xAxisLabelPos=d-l-b.spaceBottom-r-z-b.xAxisLabelSpaceAfter),xLabelWidth=0,j&&(b.xAxisBottom||b.xAxisTop)&&(0==i?(widestLabel=G,nblab=a.labels.length):(widestLabel=widestYLabel,nblab=f.length),"smart"==b.rotateLabels?(J=0,(availableWidth+b.xAxisSpaceBetweenLabels)/nblab<widestLabel+b.xAxisSpaceBetweenLabels&&(J=45,availableWidth/nblab<Math.abs(Math.cos(J*Math.PI/180)*widestLabel)&&(J=90))):(J=b.rotateLabels,0>J&&(J=0),J>180&&(J=180)),J>90&&(J+=180),F=Math.abs(Math.sin(J*Math.PI/180)*widestLabel)+Math.abs(Math.sin((J+90)*Math.PI/180)*b.scaleFontSize)+b.xAxisSpaceBefore+b.xAxisSpaceAfter,K=d-l-b.spaceBottom-r-z-E-(F-b.xAxisSpaceBefore),xLabelWidth=Math.abs(Math.cos(J*Math.PI/180)*widestLabel)+Math.abs(Math.cos((J+90)*Math.PI/180)*b.scaleFontSize),H=g([H,l+b.spaceLeft+xLabelWidth/2]),I=g([I,l+b.spaceRight+xLabelWidth/2]),availableWidth=e-H-I),b.xAxisBottom?(bottomNotUsableHeightWithoutXLabels=l+b.spaceBottom+r+z+E,bottomNotUsableHeightWithXLabels=bottomNotUsableHeightWithoutXLabels+F,availableHeight=d-topNotUsableSize-bottomNotUsableHeightWithXLabels):(bottomNotUsableHeightWithoutXLabels=l+b.spaceBottom+r+z+E,bottomNotUsableHeightWithXLabels=bottomNotUsableHeightWithoutXLabels,availableHeight=d-topNotUsableSize-bottomNotUsableHeightWithXLabels),l>0&&(c.save(),c.beginPath(),c.lineWidth=2*l,c.strokeStyle=b.canvasBordersColor,c.moveTo(0,0),c.lineTo(0,d),c.lineTo(e,d),c.lineTo(e,0),c.lineTo(0,0),c.stroke(),c.restore()),n>0&&(c.save(),c.beginPath(),c.font=b.graphTitleFontStyle+" "+b.graphTitleFontSize+"px "+b.graphTitleFontFamily,c.fillStyle=b.graphTitleFontColor,c.textAlign="center",c.textBaseline="bottom",c.translate(b.spaceLeft+(e-b.spaceLeft-b.spaceRight)/2,o),c.fillText(b.graphTitle,0,0),c.stroke(),c.restore()),p>0&&(c.save(),c.beginPath(),c.font=b.graphSubTitleFontStyle+" "+b.graphSubTitleFontSize+"px "+b.graphSubTitleFontFamily,c.fillStyle=b.graphSubTitleFontColor,c.textAlign="center",c.textBaseline="bottom",c.translate(b.spaceLeft+(e-b.spaceLeft-b.spaceRight)/2,q),c.fillText(b.graphSubTitle,0,0),c.stroke(),c.restore()),t>0&&(b.yAxisLeft&&(c.save(),c.beginPath(),c.font=b.yAxisUnitFontStyle+" "+b.yAxisUnitFontSize+"px "+b.yAxisUnitFontFamily,c.fillStyle=b.yAxisUnitFontColor,c.textAlign="center",c.textBaseline="bottom",c.translate(H,u),c.fillText(b.yAxisUnit,0,0),c.stroke(),c.restore()),b.yAxisRight&&(c.save(),c.beginPath(),c.font=b.yAxisUnitFontStyle+" "+b.yAxisUnitFontSize+"px "+b.yAxisUnitFontFamily,c.fillStyle=b.yAxisUnitFontColor,c.textAlign="center",c.textBaseline="bottom",c.translate(e-I,u),c.fillText(b.yAxisUnit,0,0),c.stroke(),c.restore())),m>0&&(b.yAxisLeft&&(c.save(),c.beginPath(),c.font=b.yAxisFontStyle+" "+b.yAxisFontSize+"px "+b.yAxisFontFamily,c.fillStyle=b.yAxisFontColor,c.textAlign="center",c.textBaseline="bottom",c.translate(yAxisLabelPosLeft,topNotUsableSize+availableHeight/2),c.rotate(-(90*(Math.PI/180))),c.fillText(b.yAxisLabel,0,0),c.stroke(),c.restore()),b.yAxisRight&&(c.save(),c.beginPath(),c.font=b.yAxisFontStyle+" "+b.yAxisFontSize+"px "+b.yAxisFontFamily,c.fillStyle=b.yAxisFontColor,c.textAlign="center",c.textBaseline="bottom",c.translate(yAxisLabelPosRight,topNotUsableSize+availableHeight/2),c.rotate(+(90*(Math.PI/180))),c.fillText(b.yAxisLabel,0,0),c.stroke(),c.restore())),E>0&&b.xAxisBottom&&(c.save(),c.beginPath(),c.font=b.xAxisFontStyle+" "+b.xAxisFontSize+"px "+b.xAxisFontFamily,c.fillStyle=b.xAxisFontColor,c.textAlign="center",c.textBaseline="bottom",c.translate(H+availableWidth/2,xAxisLabelPos),c.fillText(b.xAxisLabel,0,0),c.stroke(),c.restore()),w>1){1==b.legendBorders&&(c.save(),c.beginPath(),c.lineWidth=b.legendBordersWidth,c.strokeStyle=b.legendBordersColors,c.moveTo(C,D),c.lineTo(C,D+legendBorderHeight),c.lineTo(C+legendBorderWidth,D+legendBorderHeight),c.lineTo(C+legendBorderWidth,D),c.lineTo(C,D),c.lineTo(C+legendBorderWidth,D),c.lineTo(C,D),c.lineTo(C,D+legendBorderHeight),c.stroke(),c.restore()),nbcols=y-1,ypos=B-(b.legendFontSize+b.legendSpaceBetweenTextVertical),xpos=0,fromi=k?a.datasets.length:a.length;for(var L=fromi-1;L>=0;L--)orderi=L,h&&(orderi=k?a.datasets.length-L-1:a.length-L-1),tpof=k?typeof a.datasets[orderi].title:typeof a[orderi].title,"string"==tpof&&(lgtxt=k?a.datasets[orderi].title.trim():a[orderi].title.trim(),""!=lgtxt&&(nbcols++,nbcols==y?(nbcols=0,xpos=A,ypos+=b.legendFontSize+b.legendSpaceBetweenTextVertical):xpos+=v+b.legendSpaceBetweenTextHorizontal,c.save(),c.beginPath(),c.strokeStyle=k?a.datasets[orderi].strokeColor:a[orderi].color,b.datasetFill?(c.lineWidth=1,c.moveTo(xpos,ypos),c.lineTo(xpos+b.legendBlockSize,ypos),c.lineTo(xpos+b.legendBlockSize,ypos-b.legendFontSize),c.lineTo(xpos,ypos-b.legendFontSize),c.lineTo(xpos,ypos),c.closePath(),c.fillStyle=k?a.datasets[orderi].fillColor:a[orderi].color,c.fill()):(c.lineWidth=b.datasetStrokeWidth,c.moveTo(xpos+2,ypos-b.legendFontSize/2),c.lineTo(xpos+2+b.legendBlockSize,ypos-b.legendFontSize/2)),c.stroke(),c.restore(),c.save(),c.beginPath(),c.font=b.legendFontStyle+" "+b.legendFontSize+"px "+b.legendFontFamily,c.fillStyle=b.legendFontColor,c.textAlign="left",c.textBaseline="bottom",c.translate(xpos+b.legendBlockSize+b.legendSpaceBetweenBoxAndText,ypos),c.fillText(lgtxt,0,0),c.stroke(),c.restore()))}return""!=b.footNote.trim()&&(c.save(),c.font=b.footNoteFontStyle+" "+b.footNoteFontSize+"px "+b.footNoteFontFamily,c.fillStyle=b.footNoteFontColor,c.textAlign="center",c.textBaseline="bottom",c.translate(H+availableWidth/2,s),c.fillText(b.footNote,0,0),c.stroke(),c.restore()),clrx=H,clrwidth=availableWidth,clry=topNotUsableSize,clrheight=availableHeight,{leftNotUsableSize:H,rightNotUsableSize:I,availableWidth:availableWidth,topNotUsableSize:topNotUsableSize,bottomNotUsableHeightWithoutXLabels:bottomNotUsableHeightWithoutXLabels,bottomNotUsableHeightWithXLabels:bottomNotUsableHeightWithXLabels,availableHeight:availableHeight,widestXLabel:G,rotateLabels:J,xLabelPos:K,clrx:clrx,clry:clry,clrwidth:clrwidth,clrheight:clrheight}}function q(a){return Math.log(a)/Math.LN10}function r(a,b){b.clearRect?(x(a),a.clearRect(0,0,v,w)):(x(a),a.clearRect(0,0,v,w),a.fillStyle=b.savePngBackgroundColor,a.strokeStyle=b.savePngBackgroundColor,a.beginPath(),a.moveTo(0,0),a.lineTo(0,a.canvas.height),a.lineTo(a.canvas.width,a.canvas.height),a.lineTo(a.canvas.width,0),a.lineTo(0,0),a.stroke(),a.fill())}function s(a,b,c,d){1==c.annotateDisplay&&(0==cursorDivCreated&&(oCursor=new makeCursorObj("divCursor")),isIE()<9&&0!=isIE()?a.canvas.attachEvent("on"+c.annotateFunction.split(" ")[0],function(b){("left"==c.annotateFunction.split(" ")[1]&&1==b.which||"middle"==c.annotateFunction.split(" ")[1]&&2==b.which||"right"==c.annotateFunction.split(" ")[1]&&3==b.which||"string"!=typeof c.annotateFunction.split(" ")[1])&&doMouseMove(a,c,b)}):a.canvas.addEventListener(c.annotateFunction.split(" ")[0],function(b){("left"==c.annotateFunction.split(" ")[1]&&1==b.which||"middle"==c.annotateFunction.split(" ")[1]&&2==b.which||"right"==c.annotateFunction.split(" ")[1]&&3==b.which||"string"!=typeof c.annotateFunction.split(" ")[1])&&doMouseMove(a,c,b)},!1)),c.savePng&&(isIE()<9&&0!=isIE()?a.canvas.attachEvent("on"+c.savePngFunction.split(" ")[0],function(e){("left"==c.savePngFunction.split(" ")[1]&&1==e.which||"middle"==c.savePngFunction.split(" ")[1]&&2==e.which||"right"==c.savePngFunction.split(" ")[1]&&3==e.which||"string"!=typeof c.savePngFunction.split(" ")[1])&&saveCanvas(a,b,c,d)
}):a.canvas.addEventListener(c.savePngFunction.split(" ")[0],function(e){("left"==c.savePngFunction.split(" ")[1]&&1==e.which||"middle"==c.savePngFunction.split(" ")[1]&&2==e.which||"right"==c.savePngFunction.split(" ")[1]&&3==e.which||"string"!=typeof c.savePngFunction.split(" ")[1])&&saveCanvas(a,b,c,d)},!1))}var t=this,u={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return-1*a*(a-2)},easeInOutQuad:function(a){return(a/=.5)<1?.5*a*a:-0.5*(--a*(a-2)-1)},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return 1*((a=a/1-1)*a*a+1)},easeInOutCubic:function(a){return(a/=.5)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return-1*((a=a/1-1)*a*a*a-1)},easeInOutQuart:function(a){return(a/=.5)<1?.5*a*a*a*a:-0.5*((a-=2)*a*a*a-2)},easeInQuint:function(a){return 1*(a/=1)*a*a*a*a},easeOutQuint:function(a){return 1*((a=a/1-1)*a*a*a*a+1)},easeInOutQuint:function(a){return(a/=.5)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},easeInSine:function(a){return-1*Math.cos(a/1*(Math.PI/2))+1},easeOutSine:function(a){return 1*Math.sin(a/1*(Math.PI/2))},easeInOutSine:function(a){return-0.5*(Math.cos(Math.PI*a/1)-1)},easeInExpo:function(a){return 0==a?1:1*Math.pow(2,10*(a/1-1))},easeOutExpo:function(a){return 1==a?1:1*(-Math.pow(2,-10*a/1)+1)},easeInOutExpo:function(a){return 0==a?0:1==a?1:(a/=.5)<1?.5*Math.pow(2,10*(a-1)):.5*(-Math.pow(2,-10*--a)+2)},easeInCirc:function(a){return a>=1?a:-1*(Math.sqrt(1-(a/=1)*a)-1)},easeOutCirc:function(a){return 1*Math.sqrt(1-(a=a/1-1)*a)},easeInOutCirc:function(a){return(a/=.5)<1?-0.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},easeInElastic:function(a){var b=1.70158,c=0,d=1;if(0==a)return 0;if(1==(a/=1))return 1;if(c||(c=.3),d<Math.abs(1)){d=1;var b=c/4}else var b=c/(2*Math.PI)*Math.asin(1/d);return-(d*Math.pow(2,10*(a-=1))*Math.sin(2*(1*a-b)*Math.PI/c))},easeOutElastic:function(a){var b=1.70158,c=0,d=1;if(0==a)return 0;if(1==(a/=1))return 1;if(c||(c=.3),d<Math.abs(1)){d=1;var b=c/4}else var b=c/(2*Math.PI)*Math.asin(1/d);return d*Math.pow(2,-10*a)*Math.sin(2*(1*a-b)*Math.PI/c)+1},easeInOutElastic:function(a){var b=1.70158,c=0,d=1;if(0==a)return 0;if(2==(a/=.5))return 1;if(c||(c=.3*1.5),d<Math.abs(1)){d=1;var b=c/4}else var b=c/(2*Math.PI)*Math.asin(1/d);return 1>a?-.5*d*Math.pow(2,10*(a-=1))*Math.sin(2*(1*a-b)*Math.PI/c):d*Math.pow(2,-10*(a-=1))*Math.sin(2*(1*a-b)*Math.PI/c)*.5+1},easeInBack:function(a){var b=1.70158;return 1*(a/=1)*a*((b+1)*a-b)},easeOutBack:function(a){var b=1.70158;return 1*((a=a/1-1)*a*((b+1)*a+b)+1)},easeInOutBack:function(a){var b=1.70158;return(a/=.5)<1?.5*a*a*(((b*=1.525)+1)*a-b):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},easeInBounce:function(a){return 1-u.easeOutBounce(1-a)},easeOutBounce:function(a){return(a/=1)<1/2.75?7.5625*a*a:2/2.75>a?1*(7.5625*(a-=1.5/2.75)*a+.75):2.5/2.75>a?1*(7.5625*(a-=2.25/2.75)*a+.9375):1*(7.5625*(a-=2.625/2.75)*a+.984375)},easeInOutBounce:function(a){return.5>a?.5*u.easeInBounce(2*a):.5*u.easeOutBounce(2*a-1)+.5}},v=a.canvas.width,w=a.canvas.height;window.devicePixelRatio&&(a.canvas.style.width=v+"px",a.canvas.style.height=w+"px",a.canvas.height=w*window.devicePixelRatio,a.canvas.width=v*window.devicePixelRatio,a.scale(window.devicePixelRatio,window.devicePixelRatio)),this.PolarArea=function(b,c){t.PolarArea.defaults={inGraphDataShow:!1,inGraphDataPaddingRadius:5,inGraphDataPaddingAngle:0,inGraphDataTmpl:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,inGraphDataAnglePosition:2,scaleOverlay:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null,annotateLabel:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",startAngle:90},t.PolarArea.defaults=m(t.defaults.commonOptions,t.PolarArea.defaults),t.PolarArea.defaults=m(t.PolarArea.defaults,charJSPersonnalDefaultOptions),t.PolarArea.defaults=m(t.PolarArea.defaults,charJSPersonnalDefaultOptionsPolarArea);var d=c?m(t.PolarArea.defaults,c):t.PolarArea.defaults;return new y(b,d,a)},this.Radar=function(b,c){t.Radar.defaults={inGraphDataShow:!1,inGraphDataPaddingRadius:5,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!1,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,angleShowLineOut:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:12,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? '/' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3%>",startAngle:90,graphMaximized:!1},t.Radar.defaults=m(t.defaults.commonOptions,t.Radar.defaults),t.Radar.defaults=m(t.Radar.defaults,charJSPersonnalDefaultOptions),t.Radar.defaults=m(t.Radar.defaults,charJSPersonnalDefaultOptionsRadar);var d=c?m(t.Radar.defaults,c):t.Radar.defaults;return new z(b,d,a)},this.Pie=function(b,c){t.Pie.defaults={inGraphDataShow:!1,inGraphDataPaddingRadius:5,inGraphDataPaddingAngle:0,inGraphDataTmpl:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,inGraphDataAnglePosition:2,graphMaximized:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null,annotateLabel:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",startAngle:90,radiusScale:1},t.Pie.defaults=m(t.defaults.commonOptions,t.Pie.defaults),t.Pie.defaults=m(t.Pie.defaults,charJSPersonnalDefaultOptions),t.Pie.defaults=m(t.Pie.defaults,charJSPersonnalDefaultOptionsPie);var d=c?m(t.Pie.defaults,c):t.Pie.defaults;return new A(b,d,a)},this.Doughnut=function(b,c){t.Doughnut.defaults={inGraphDataShow:!1,inGraphDataPaddingRadius:5,inGraphDataPaddingAngle:0,inGraphDataTmpl:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,inGraphDataAnglePosition:2,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null,annotateLabel:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",startAngle:90,radiusScale:1},t.Doughnut.defaults=m(t.defaults.commonOptions,t.Doughnut.defaults),t.Doughnut.defaults=m(t.Doughnut.defaults,charJSPersonnalDefaultOptions),t.Doughnut.defaults=m(t.Doughnut.defaults,charJSPersonnalDefaultOptionsDoughnut);var d=c?m(t.Doughnut.defaults,c):t.Doughnut.defaults;return new B(b,d,a)},this.Line=function(b,c){t.Line.defaults={inGraphDataShow:!1,inGraphDataPaddingX:3,inGraphDataPaddingY:3,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"left",inGraphDataVAlign:"bottom",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,showYAxisMin:!0,rotateLabels:"smart",logarithmic:!1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,bezierCurve:!0,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:2,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? '/' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3%>"},t.Line.defaults=m(t.defaults.commonOptions,t.Line.defaults),t.Line.defaults=m(t.defaults.xyAxisCommonOptions,t.Line.defaults),t.Line.defaults=m(t.Line.defaults,charJSPersonnalDefaultOptions),t.Line.defaults=m(t.Line.defaults,charJSPersonnalDefaultOptionsLine);var d=c?m(t.Line.defaults,c):t.Line.defaults;return new C(b,d,a)},this.StackedBar=function(b,c){t.StackedBar.defaults={inGraphDataShow:!1,inGraphDataPaddingX:0,inGraphDataPaddingY:-3,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"center",inGraphDataVAlign:"top",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:2,inGraphDataYPosition:3,scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,showYAxisMin:!0,rotateLabels:"smart",scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? '/' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>"},t.StackedBar.defaults=m(t.defaults.commonOptions,t.StackedBar.defaults),t.StackedBar.defaults=m(t.defaults.xyAxisCommonOptions,t.StackedBar.defaults),t.StackedBar.defaults=m(t.StackedBar.defaults,charJSPersonnalDefaultOptions),t.StackedBar.defaults=m(t.StackedBar.defaults,charJSPersonnalDefaultOptionsStackedBar);var d=c?m(t.StackedBar.defaults,c):t.StackedBar.defaults;return new D(b,d,a)},this.HorizontalStackedBar=function(b,c){t.HorizontalStackedBar.defaults={inGraphDataShow:!1,inGraphDataPaddingX:-3,inGraphDataPaddingY:0,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"right",inGraphDataVAlign:"center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:3,inGraphDataYPosition:2,scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,showYAxisMin:!0,rotateLabels:"smart",barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? '/' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>"},t.HorizontalStackedBar.defaults=m(t.defaults.commonOptions,t.HorizontalStackedBar.defaults),t.HorizontalStackedBar.defaults=m(t.defaults.xyAxisCommonOptions,t.HorizontalStackedBar.defaults),t.HorizontalStackedBar.defaults=m(t.HorizontalStackedBar.defaults,charJSPersonnalDefaultOptions),t.HorizontalStackedBar.defaults=m(t.HorizontalStackedBar.defaults,charJSPersonnalDefaultOptionsHorizontalStackedBar);var d=c?m(t.HorizontalStackedBar.defaults,c):t.HorizontalStackedBar.defaults;return new E(b,d,a)},this.Bar=function(b,c){t.Bar.defaults={inGraphDataShow:!1,inGraphDataPaddingX:0,inGraphDataPaddingY:3,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"center",inGraphDataVAlign:"bottom",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:2,inGraphDataYPosition:3,scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,showYAxisMin:!0,rotateLabels:"smart",logarithmic:!1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? '/' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>"},t.Bar.defaults=m(t.defaults.commonOptions,t.Bar.defaults),t.Bar.defaults=m(t.defaults.xyAxisCommonOptions,t.Bar.defaults),t.Bar.defaults=m(t.Bar.defaults,charJSPersonnalDefaultOptions),t.Bar.defaults=m(t.Bar.defaults,charJSPersonnalDefaultOptionsBar);var d=c?m(t.Bar.defaults,c):t.Bar.defaults;return new F(b,d,a)},this.HorizontalBar=function(b,c){t.HorizontalBar.defaults={inGraphDataShow:!1,inGraphDataPaddingX:3,inGraphDataPaddingY:0,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"left",inGraphDataVAlign:"middle",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:3,inGraphDataYPosition:2,scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,showYAxisMin:!0,rotateLabels:"smart",barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? '/' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>"},t.HorizontalBar.defaults=m(t.defaults.commonOptions,t.HorizontalBar.defaults),t.HorizontalBar.defaults=m(t.defaults.xyAxisCommonOptions,t.HorizontalBar.defaults),t.HorizontalBar.defaults=m(t.HorizontalBar.defaults,charJSPersonnalDefaultOptions),t.HorizontalBar.defaults=m(t.HorizontalBar.defaults,charJSPersonnalDefaultOptionsHorizontalBar);var d=c?m(t.HorizontalBar.defaults,c):t.HorizontalBar.defaults;return new G(b,d,a)},t.defaults={},t.defaults.commonOptions={clearRect:!0,dynamicDisplay:!1,graphSpaceBefore:5,graphSpaceAfter:5,canvasBorders:!1,canvasBackgroundColor:"none",canvasBordersWidth:3,canvasBordersColor:"black",graphTitle:"",graphTitleFontFamily:"'Arial'",graphTitleFontSize:24,graphTitleFontStyle:"bold",graphTitleFontColor:"#666",graphTitleSpaceBefore:5,graphTitleSpaceAfter:5,graphSubTitle:"",graphSubTitleFontFamily:"'Arial'",graphSubTitleFontSize:18,graphSubTitleFontStyle:"normal",graphSubTitleFontColor:"#666",graphSubTitleSpaceBefore:5,graphSubTitleSpaceAfter:5,footNote:"",footNoteFontFamily:"'Arial'",footNoteFontSize:8,footNoteFontStyle:"bold",footNoteFontColor:"#666",footNoteSpaceBefore:5,footNoteSpaceAfter:5,legend:!1,legendFontFamily:"'Arial'",legendFontSize:12,legendFontStyle:"normal",legendFontColor:"#666",legendBlockSize:15,legendBorders:!0,legendBordersWidth:1,legendBordersColors:"#666",legendBordersSpaceBefore:5,legendBordersSpaceAfter:5,legendBordersSpaceLeft:5,legendBordersSpaceRight:5,legendSpaceBeforeText:5,legendSpaceAfterText:5,legendSpaceLeftText:5,legendSpaceRightText:5,legendSpaceBetweenTextVertical:5,legendSpaceBetweenTextHorizontal:5,legendSpaceBetweenBoxAndText:5,annotateDisplay:!1,savePng:!1,savePngFunction:"mousedown right",savePngBackgroundColor:"WHITE",annotateFunction:"mousemove",annotateFontFamily:"'Arial'",annotateBorder:"none",annotateBorderRadius:"2px",annotateBackgroundColor:"rgba(0,0,0,0.8)",annotateFontSize:4,annotateFontColor:"white",annotateFontStyle:"normal",annotatePadding:"3px",crossText:[""],crossTextIter:["all"],crossTextOverlay:[!0],crossTextFontFamily:["'Arial'"],crossTextFontSize:[12],crossTextFontStyle:["normal"],crossTextFontColor:["rgba(220,220,220,1)"],crossTextRelativePosX:[2],crossTextRelativePosY:[2],crossTextBaseline:["middle"],crossTextAlign:["center"],crossTextPosX:[0],crossTextPosY:[0],crossTextAngle:[0],crossTextFunction:null,spaceTop:0,spaceBottom:0,spaceRight:0,spaceLeft:0,decimalSeparator:".",thousandSeparator:"",roundNumber:"none",roundPct:-1,fmtV1:"none",fmtV2:"none",fmtV3:"none",fmtV4:"none",fmtV5:"none",fmtV6:"none",fmtV7:"none",fmtV8:"none",fmtV9:"none",fmtV10:"none",fmtV11:"none",fmtV12:"none",fmtV13:"none",fmtXLabel:"none",fmtYLabel:"none",fmtLegend:"none"},t.defaults.xyAxisCommonOptions={yAxisLeft:!0,yAxisRight:!1,xAxisBottom:!0,xAxisTop:!1,xAxisSpaceBetweenLabels:5,yAxisLabel:"",yAxisFontFamily:"'Arial'",yAxisFontSize:16,yAxisFontStyle:"normal",yAxisFontColor:"#666",yAxisLabelSpaceRight:5,yAxisLabelSpaceLeft:5,yAxisSpaceRight:5,yAxisSpaceLeft:5,xAxisLabel:"",xAxisFontFamily:"'Arial'",xAxisFontSize:16,xAxisFontStyle:"normal",xAxisFontColor:"#666",xAxisLabelSpaceBefore:5,xAxisLabelSpaceAfter:5,xAxisSpaceBefore:5,xAxisSpaceAfter:5,yAxisUnit:"",yAxisUnitFontFamily:"'Arial'",yAxisUnitFontSize:8,yAxisUnitFontStyle:"normal",yAxisUnitFontColor:"#666",yAxisUnitSpaceBefore:5,yAxisUnitSpaceAfter:5};var x=function(a){a.clearRect(0,0,v,w)},y=function(a,e,i){function j(c){var d=-e.startAngle*(Math.PI/180)+2*Math.PI,f=0,g=0,h=1,j=1;g=0;for(var k=0;k<a.length;k++)"undefined"!=typeof a[k].value&&g++;for(g=2*Math.PI/g;0>d;)d+=2*Math.PI;for(;d>2*Math.PI;)d-=2*Math.PI;if(e.animation&&(e.animateScale&&(h=c),e.animateRotate&&(j=c)),c>=1){totvalue=0;for(var k=0;k<a.length;k++)"undefined"!=typeof a[k].value&&(totvalue+=1*a[k].value)}for(var k=0;k<a.length;k++)"undefined"!=typeof a[k].value&&(i.beginPath(),i.arc(y,z,h*b(e,1*a[k].value,n,m),d,d+j*g,!1),i.lineTo(y,z),i.closePath(),i.fillStyle=a[k].color,i.fill(),d+=g,e.segmentShowStroke&&(i.strokeStyle=e.segmentStrokeColor,i.lineWidth=e.segmentStrokeWidth,i.stroke()));if(c>=1){d=-e.startAngle*(Math.PI/180)+2*Math.PI;for(var k=0;k<a.length;k++)if("undefined"!=typeof a[k].value&&(f+=1*a[k].value,d+=g,lgtxt="string"==typeof a[k].title?a[k].title.trim():"",jsGraphAnnotate[i.canvas.id][B++]=["ARC",y,z,0,b(e,1*a[k].value,n,m),d-g,d,lgtxt,1*a[k].value,f,totvalue,g,k],e.inGraphDataShow)){1==e.inGraphDataAnglePosition?posAngle=A+e.inGraphDataPaddingAngle*(Math.PI/180):2==e.inGraphDataAnglePosition?posAngle=A-g/2+e.inGraphDataPaddingAngle*(Math.PI/180):3==e.inGraphDataAnglePosition&&(posAngle=A-g+e.inGraphDataPaddingAngle*(Math.PI/180)),1==e.inGraphDataRadiusPosition?labelRadius=0+e.inGraphDataPaddingRadius:2==e.inGraphDataRadiusPosition?labelRadius=b(e,1*a[k].value,n,m)/2+e.inGraphDataPaddingRadius:3==e.inGraphDataRadiusPosition?labelRadius=b(e,1*a[k].value,n,m)+e.inGraphDataPaddingRadius:4==e.inGraphDataRadiusPosition&&(labelRadius=m*n.steps+e.inGraphDataPaddingRadius),i.save(),i.textAlign="off-center"==e.inGraphDataAlign?"inRadiusAxis"==e.inGraphDataRotate||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?"left":"right":"to-center"==e.inGraphDataAlign?"inRadiusAxis"==e.inGraphDataRotate||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?"right":"left":e.inGraphDataAlign,i.textBaseline="off-center"==e.inGraphDataVAlign?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?"top":"bottom":"to-center"==e.inGraphDataVAlign?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?"bottom":"top":e.inGraphDataVAlign,i.font=e.inGraphDataFontStyle+" "+e.inGraphDataFontSize+"px "+e.inGraphDataFontFamily,i.fillStyle=e.inGraphDataFontColor;var l=tmplbis(e.inGraphDataTmpl,{config:e,v1:fmtChartJS(e,lgtxt,e.fmtV1),v2:fmtChartJS(e,1*a[k].value,e.fmtV2),v3:fmtChartJS(e,f,e.fmtV3),v4:fmtChartJS(e,totvalue,e.fmtV4),v5:fmtChartJS(e,g,e.fmtV5),v6:roundToWithThousands(e,fmtChartJS(e,100*a[k].value/totvalue,e.fmtV6),e.roundPct),v7:fmtChartJS(e,y,e.fmtV7),v8:fmtChartJS(e,z,e.fmtV8),v9:fmtChartJS(e,0,e.fmtV9),v10:fmtChartJS(e,b(e,1*a[k].value,n,m),e.fmtV10),v11:fmtChartJS(e,d-g,e.fmtV11),v12:fmtChartJS(e,g,e.fmtV12),v13:fmtChartJS(e,k,e.fmtV13)});i.translate(y+labelRadius*Math.cos(posAngle),z-labelRadius*Math.sin(posAngle)),i.rotate("inRadiusAxis"==e.inGraphDataRotate?2*Math.PI-posAngle:"inRadiusAxisRotateLabels"==e.inGraphDataRotate?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(posAngle+2*Math.PI)%(2*Math.PI)<3*Math.PI/2?3*Math.PI-posAngle:2*Math.PI-posAngle:e.inGraphDataRotate*(Math.PI/180)),i.fillText(l,0,0),i.restore(),A-=g}}}function k(){for(var a=0;a<n.steps;a++)if(e.scaleShowLine&&(i.beginPath(),i.arc(y,z,m*(a+1),0,2*Math.PI,!0),i.strokeStyle=e.scaleLineColor,i.lineWidth=e.scaleLineWidth,i.stroke()),e.scaleShowLabels){i.textAlign="center",i.font=e.scaleFontStyle+" "+e.scaleFontSize+"px "+e.scaleFontFamily;var b=n.labels[a+1];if(e.scaleShowLabelBackdrop){var c=i.measureText(b).width;i.fillStyle=e.scaleBackdropColor,i.beginPath(),i.rect(Math.round(y-c/2-e.scaleBackdropPaddingX),Math.round(z-m*(a+1)-.5*e.scaleFontSize-e.scaleBackdropPaddingY),Math.round(c+2*e.scaleBackdropPaddingX),Math.round(e.scaleFontSize+2*e.scaleBackdropPaddingY)),i.fill()}i.textBaseline="middle",i.fillStyle=e.scaleFontColor,i.fillText(b,y,z-m*(a+1))}}function l(){for(var b=Number.MIN_VALUE,c=Number.MAX_VALUE,d=0;d<a.length;d++)1*a[d].value>b&&(b=1*a[d].value),1*a[d].value<c&&(c=1*a[d].value);Math.abs(b-c)<1e-8&&(b=g([2*b,1]),c=0),isNaN(e.graphMin)||(c=e.graphMin),isNaN(e.graphMax)||(b=e.graphMax);var f=Math.floor(q/(.66*o)),h=Math.floor(q/o*.5);return{maxValue:b,minValue:c,maxDailySteps:f,minSteps:h}}var m,n,o,q,t,u,x,y,z;if(dynamicFunction(a,e,i,"PolarArea")){for(var A=e.startAngle*(Math.PI/180)+2*Math.PI;e.startAngle<0;)e.startAngle+=360;for(;e.startAngle>360;)e.startAngle-=360;for(;0>A;)A+=2*Math.PI;for(;A>2*Math.PI;)A-=2*Math.PI;e.logarithmic=!1;var B=0;jsGraphAnnotate[i.canvas.id]=new Array,s(i,a,e,"PolarArea"),r(i,e),t=l(),u=e.scaleShowLabels?e.scaleLabel:"",e.scaleOverride?(n={steps:e.scaleSteps,stepValue:e.scaleStepWidth,graphMin:e.scaleStartValue,graphMax:e.scaleStartValue+e.scaleSteps*e.scaleStepWidth,labels:[]},f(e,u,n.labels,n.steps,e.scaleStartValue,n.graphMax,e.scaleStepWidth),x=p(a,e,i,w,v,n.labels,!0,!1,!1,!1)):(n=d(e,t.maxDailySteps,t.minSteps,t.maxValue,t.minValue,u),x=p(a,e,i,w,v,n.labels,!0,!1,!1,!1)),y=x.leftNotUsableSize+x.availableWidth/2,z=x.topNotUsableSize+x.availableHeight/2,m=Math.floor((h([x.availableHeight,x.availableWidth])/2-5)/n.steps),c(e,k,j,i,x.clrx,x.clry,x.clrwidth,x.clrheight,y,z,y-(h([x.availableHeight,x.availableWidth])/2-5),z+(h([x.availableHeight,x.availableWidth])/2-5),a)}},z=function(a,e,h){function j(c){for(var d=new Array,f=new Array,i=0;i<a.datasets.length;i++)for(var j=0;j<a.datasets[i].data.length;j++)d[j]=0,f[j]=-999999999;for(var i=0;i<a.datasets.length;i++)for(var j=0;j<a.datasets[i].data.length;j++)"undefined"!=typeof a.datasets[i].data[j]&&(d[j]+=1*a.datasets[i].data[j],f[j]=g([f[j],1*a.datasets[i].data[j]]));var k=2*Math.PI/a.datasets[0].data.length;h.save();for(var i=0;i<a.datasets.length;i++){c>=1&&(lgtxt="string"==typeof a.datasets[i].title?a.datasets[i].title.trim():"");for(var l=-1,j=0;j<a.datasets[i].data.length;j++)"undefined"!=typeof a.datasets[i].data[j]&&(-1==l?(h.beginPath(),h.moveTo(A+c*Math.cos(e.startAngle*Math.PI/180-j*k)*b(e,a.datasets[i].data[j],q,o),B-c*Math.sin(e.startAngle*Math.PI/180-j*k)*b(e,a.datasets[i].data[j],q,o)),l=j):h.lineTo(A+c*Math.cos(e.startAngle*Math.PI/180-j*k)*b(e,a.datasets[i].data[j],q,o),B-c*Math.sin(e.startAngle*Math.PI/180-j*k)*b(e,a.datasets[i].data[j],q,o)),c>=1&&(divprev=0==i?0:a.datasets[i].data[j]-a.datasets[i-1].data[j],divnext=i==a.datasets.length-1?0:a.datasets[i+1].data[j]-a.datasets[i].data[j],lgtxt2="string"==typeof a.labels[j]?a.labels[j].trim():"",jsGraphAnnotate[h.canvas.id][C++]=["POINT",A+Math.cos(e.startAngle*Math.PI/180-j*k)*b(e,a.datasets[i].data[j],q,o),B-Math.sin(e.startAngle*Math.PI/180-j*k)*b(e,a.datasets[i].data[j],q,o),lgtxt,lgtxt2,1*a.datasets[i].data[j],divprev,divnext,f[j],d[j],i,j]));if(h.closePath(),h.fillStyle=a.datasets[i].fillColor,h.strokeStyle=a.datasets[i].strokeColor,h.lineWidth=e.datasetStrokeWidth,h.fill(),h.stroke(),e.pointDot){h.beginPath(),h.fillStyle=a.datasets[i].pointColor,h.strokeStyle=a.datasets[i].pointStrokeColor,h.lineWidth=e.pointDotStrokeWidth;for(var m=0;m<a.datasets[i].data.length;m++)"undefined"!=typeof a.datasets[i].data[m]&&(h.beginPath(),h.arc(A+c*Math.cos(e.startAngle*Math.PI/180-m*k)*b(e,a.datasets[i].data[m],q,o),B-c*Math.sin(e.startAngle*Math.PI/180-m*k)*b(e,a.datasets[i].data[m],q,o),e.pointDotRadius,2*Math.PI,!1),h.fill(),h.stroke())}}if(h.restore(),c>=1&&e.inGraphDataShow)for(var i=0;i<a.datasets.length;i++){lgtxt="string"==typeof a.datasets[i].title?a.datasets[i].title.trim():"";for(var j=0;j<a.datasets[i].data.length;j++)if("undefined"!=typeof a.datasets[i].data[j]){divprev=0==i?0:a.datasets[i].data[j]-a.datasets[i-1].data[j],divnext=i==a.datasets.length-1?0:a.datasets[i+1].data[j]-a.datasets[i].data[j],lgtxt2="string"==typeof a.labels[j]?a.labels[j].trim():"",h.save(),h.textAlign=e.inGraphDataAlign,h.textBaseline=e.inGraphDataVAlign,h.textAlign="off-center"==e.inGraphDataAlign?"inRadiusAxis"==e.inGraphDataRotate||(j*k+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(j*k+2*Math.PI)%(2*Math.PI)<Math.PI/2?"left":"right":"to-center"==e.inGraphDataAlign?"inRadiusAxis"==e.inGraphDataRotate||(j*k+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(j*k+2*Math.PI)%(2*Math.PI)<Math.PI/2?"right":"left":e.inGraphDataAlign,h.textBaseline="off-center"==e.inGraphDataVAlign?(j*k+2*Math.PI)%(2*Math.PI)>Math.PI?"bottom":"top":"to-center"==e.inGraphDataVAlign?(j*k+2*Math.PI)%(2*Math.PI)>Math.PI?"top":"bottom":e.inGraphDataVAlign,h.font=e.inGraphDataFontStyle+" "+e.inGraphDataFontSize+"px "+e.inGraphDataFontFamily,h.fillStyle=e.inGraphDataFontColor;var n;1==e.inGraphDataRadiusPosition?n=0+e.inGraphDataPaddingRadius:2==e.inGraphDataRadiusPosition?n=b(e,a.datasets[i].data[j],q,o)/2+e.inGraphDataPaddingRadius:3==e.inGraphDataRadiusPosition&&(n=b(e,a.datasets[i].data[j],q,o)+e.inGraphDataPaddingRadius),h.translate(A+Math.cos(e.startAngle*Math.PI/180-j*k)*n,B-Math.sin(e.startAngle*Math.PI/180-j*k)*n),h.rotate("inRadiusAxis"==e.inGraphDataRotate?j*k:"inRadiusAxisRotateLabels"==e.inGraphDataRotate?(j*k+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(j*k+2*Math.PI)%(2*Math.PI)<3*Math.PI/2?3*Math.PI+j*k:2*Math.PI+j*k:e.inGraphDataRotate*(Math.PI/180));var p=tmplbis(e.inGraphDataTmpl,{config:e,v1:fmtChartJS(e,lgtxt,e.fmtV1),v2:fmtChartJS(e,lgtxt2,e.fmtV2),v3:fmtChartJS(e,1*a.datasets[i].data[j],e.fmtV3),v4:fmtChartJS(e,divprev,e.fmtV4),v5:fmtChartJS(e,divnext,e.fmtV5),v6:fmtChartJS(e,f[j],e.fmtV6),v7:fmtChartJS(e,d[j],e.fmtV7),v8:roundToWithThousands(e,fmtChartJS(e,100*a.datasets[i].data[j]/d[j],e.fmtV8),e.roundPct),v9:fmtChartJS(e,A+Math.cos(e.startAngle*Math.PI/180-j*k)*b(e,a.datasets[i].data[j],q,o),e.fmtV9),v10:fmtChartJS(e,B-Math.sin(e.startAngle*Math.PI/180-j*k)*b(e,a.datasets[i].data[j],q,o),e.fmtV10),v11:fmtChartJS(e,i,e.fmtV11),v12:fmtChartJS(e,j,e.fmtV12)});h.fillText(p,0,0),h.restore()}}}function k(){var b=2*Math.PI/a.datasets[0].data.length;if(h.save(),h.translate(A,B),h.rotate((90-e.startAngle)*Math.PI/180),e.angleShowLineOut){h.strokeStyle=e.angleLineColor,h.lineWidth=e.angleLineWidth;for(var c=0;c<a.datasets[0].data.length;c++)h.rotate(b),h.beginPath(),h.moveTo(0,0),h.lineTo(0,-n),h.stroke()}for(var d=0;d<q.steps;d++)if(h.beginPath(),e.scaleShowLine){h.strokeStyle=e.scaleLineColor,h.lineWidth=e.scaleLineWidth,h.moveTo(0,-o*(d+1));for(var f=0;f<a.datasets[0].data.length;f++)h.rotate(b),h.lineTo(0,-o*(d+1));h.closePath(),h.stroke()}if(h.rotate(-(90-e.startAngle)*Math.PI/180),e.scaleShowLabels)for(var d=0;d<q.steps;d++){if(h.textAlign="center",h.font=e.scaleFontStyle+" "+e.scaleFontSize+"px "+e.scaleFontFamily,h.textBaseline="middle",e.scaleShowLabelBackdrop){var g=h.measureText(q.labels[d+1]).width;h.fillStyle=e.scaleBackdropColor,h.beginPath(),h.rect(Math.round(Math.cos(e.startAngle*Math.PI/180)*o*(d+1)-g/2-e.scaleBackdropPaddingX),Math.round(-Math.sin(e.startAngle*Math.PI/180)*o*(d+1)-.5*e.scaleFontSize-e.scaleBackdropPaddingY),Math.round(g+2*e.scaleBackdropPaddingX),Math.round(e.scaleFontSize+2*e.scaleBackdropPaddingY)),h.fill()}h.fillStyle=e.scaleFontColor,h.fillText(q.labels[d+1],Math.cos(e.startAngle*Math.PI/180)*o*(d+1),-Math.sin(e.startAngle*Math.PI/180)*o*(d+1))}for(var i=0;i<a.labels.length;i++){h.font=e.pointLabelFontStyle+" "+e.pointLabelFontSize+"px "+e.pointLabelFontFamily,h.fillStyle=e.pointLabelFontColor;for(var j=Math.sin((90-e.startAngle)*Math.PI/180+b*i)*(n+e.pointLabelFontSize),k=Math.cos((90-e.startAngle)*Math.PI/180+b*i)*(n+e.pointLabelFontSize),l=(90-e.startAngle)*Math.PI/180+b*i;0>l;)l+=2*Math.PI;for(;l>2*Math.PI;)l-=2*Math.PI;h.textAlign=l==Math.PI||0==l?"center":l>Math.PI?"right":"left",h.textBaseline="middle",h.fillText(a.labels[i],j,-k)}h.restore()}function l(){var b,c,d,f,j,k,l,m,o=2*Math.PI/a.datasets[0].data.length,p=e.startAngle*Math.PI/180;if(h.font=e.pointLabelFontStyle+" "+e.pointLabelFontSize+"px "+e.pointLabelFontFamily,e.graphMaximized){f=z.availableWidth/2,d=z.availableWidth/2,k=40;for(var q=0;q<a.labels.length;q++){var r=h.measureText(a.labels[q]).width+e.scaleFontSize;c=(z.availableWidth-r)/(1+Math.abs(Math.cos(p))),p<Math.PI/2&&p>-Math.PI/2||p>3*Math.PI/2?f>c&&(f=c):0!=Math.cos(p)&&d>c&&(d=c),p-=o}}else f=z.availableWidth/2,d=z.availableWidth/2,k=1;for(l=0,m=0,b=f,j=0;k>j;++j,b+=(z.availableWidth-d-f)/k){n=g([b,z.availableWidth-b]);var p=e.startAngle*Math.PI/180;c=z.available;for(var q=0;q<a.labels.length;q++){var r=h.measureText(a.labels[q]).width+e.scaleFontSize;p<Math.PI/2&&p>-Math.PI/2||p>3*Math.PI/2?c=(z.availableWidth-b-r)/Math.abs(Math.cos(p)):Math.cos(0!=p)&&(c=(b-r)/Math.abs(Math.cos(p))),n>c&&(n=c),Math.sin(p)*z.availableHeight/2>z.availableHeight/2-2*e.scaleFontSize&&(c=Math.sin(p)*z.availableHeight/2-1.5*e.scaleFontSize,n>c&&(n=c)),p-=o}n>l&&(l=n,A=b)}n=l-e.scaleFontSize/2,t=i(t,5)}function m(){for(var b=Number.MIN_VALUE,c=Number.MAX_VALUE,d=0;d<a.datasets.length;d++)for(var f=0;f<a.datasets[d].data.length;f++)1*a.datasets[d].data[f]>b&&(b=1*a.datasets[d].data[f]),1*a.datasets[d].data[f]<c&&(c=1*a.datasets[d].data[f]);
Math.abs(b-c)<1e-8&&(b=g([2*b,1]),c=0),isNaN(e.graphMin)||(c=e.graphMin),isNaN(e.graphMax)||(b=e.graphMax);var h=Math.floor(u/(.66*t)),i=Math.floor(u/t*.5);return{maxValue:b,minValue:c,maxDailySteps:h,minSteps:i}}var n,o,q,t,u,x,y,z,A,B;if(dynamicFunction(a,e,h,"Radar")){for(;e.startAngle<0;)e.startAngle+=360;for(;e.startAngle>360;)e.startAngle-=360;e.logarithmic=!1;var C=0;jsGraphAnnotate[h.canvas.id]=new Array,s(h,a,e,"Radar"),a.labels||(a.labels=[]),r(h,e),x=m(),y=e.scaleShowLabels?e.scaleLabel:"",e.scaleOverride?(q={steps:e.scaleSteps,stepValue:e.scaleStepWidth,graphMin:e.scaleStartValue,graphMax:e.scaleStartValue+e.scaleSteps*e.scaleStepWidth,labels:[]},f(e,y,q.labels,q.steps,e.scaleStartValue,q.graphMax,e.scaleStepWidth),z=p(a,e,h,w,v,q.labels,!0,!1,!1,!0)):(q=d(e,x.maxDailySteps,x.minSteps,x.maxValue,x.minValue,y),z=p(a,e,h,w,v,q.labels,!0,!1,!1,!0)),l(),B=z.topNotUsableSize+z.availableHeight/2,o=n/q.steps,c(e,k,j,h,z.clrx,z.clry,z.clrwidth,z.clrheight,A,B,A-n,B+n,a)}},A=function(a,b,d){function e(c){for(var e=-b.startAngle*(Math.PI/180)+2*Math.PI,f=0,g=1,h=1,n=b.startAngle*(Math.PI/180)+2*Math.PI;0>e;)e+=2*Math.PI;for(;e>2*Math.PI;)e-=2*Math.PI;for(;0>n;)n+=2*Math.PI;for(;n>2*Math.PI;)n-=2*Math.PI;if(b.animation&&(b.animateScale&&(g=c),b.animateRotate&&(h=c)),c>=1){totvalue=0;for(var o=0;o<a.length;o++)"undefined"!=typeof a[o].value&&(totvalue+=1*a[o].value)}for(var o=0;o<a.length;o++)if("undefined"!=typeof a[o].value){var p=h*(1*a[o].value/l)*2*Math.PI;if(p>=2*Math.PI&&(p=2*Math.PI-.001),d.beginPath(),d.arc(i,j,g*k,e,e+p),d.lineTo(i,j),d.closePath(),d.fillStyle=a[o].color,d.fill(),e+=p,f+=1*a[o].value,b.segmentShowStroke&&(d.lineWidth=b.segmentStrokeWidth,d.strokeStyle=b.segmentStrokeColor,d.stroke()),c>=1&&(lgtxt="string"==typeof a[o].title?a[o].title.trim():"",jsGraphAnnotate[d.canvas.id][m++]=["ARC",i,j,0,k,e-p,e,lgtxt,1*a[o].value,f,totvalue,p,o],b.inGraphDataShow)){1==b.inGraphDataAnglePosition?posAngle=n+b.inGraphDataPaddingAngle*(Math.PI/180):2==b.inGraphDataAnglePosition?posAngle=n-p/2+b.inGraphDataPaddingAngle*(Math.PI/180):3==b.inGraphDataAnglePosition&&(posAngle=n-p+b.inGraphDataPaddingAngle*(Math.PI/180)),1==b.inGraphDataRadiusPosition?labelRadius=0+b.inGraphDataPaddingRadius:2==b.inGraphDataRadiusPosition?labelRadius=k/2+b.inGraphDataPaddingRadius:3==b.inGraphDataRadiusPosition&&(labelRadius=k+b.inGraphDataPaddingRadius),n-=p,d.save(),d.textAlign="off-center"==b.inGraphDataAlign?"inRadiusAxis"==b.inGraphDataRotate||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?"left":"right":"to-center"==b.inGraphDataAlign?"inRadiusAxis"==b.inGraphDataRotate||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?"right":"left":b.inGraphDataAlign,d.textBaseline="off-center"==b.inGraphDataVAlign?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?"top":"bottom":"to-center"==b.inGraphDataVAlign?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?"bottom":"top":b.inGraphDataVAlign,d.font=b.inGraphDataFontStyle+" "+b.inGraphDataFontSize+"px "+b.inGraphDataFontFamily,d.fillStyle=b.inGraphDataFontColor;var q=tmplbis(b.inGraphDataTmpl,{config:b,v1:fmtChartJS(b,lgtxt,b.fmtV1),v2:fmtChartJS(b,1*a[o].value,b.fmtV2),v3:fmtChartJS(b,f,b.fmtV3),v4:fmtChartJS(b,totvalue,b.fmtV4),v5:fmtChartJS(b,p,b.fmtV5),v6:roundToWithThousands(b,fmtChartJS(b,100*a[o].value/totvalue,b.fmtV6),b.roundPct),v7:fmtChartJS(b,i,b.fmtV7),v8:fmtChartJS(b,j,b.fmtV8),v9:fmtChartJS(b,0,b.fmtV9),v10:fmtChartJS(b,k,b.fmtV10),v11:fmtChartJS(b,e-p,b.fmtV11),v12:fmtChartJS(b,e,b.fmtV12),v13:fmtChartJS(b,o,b.fmtV13)});d.translate(i+labelRadius*Math.cos(posAngle),j-labelRadius*Math.sin(posAngle)),d.rotate("inRadiusAxis"==b.inGraphDataRotate?2*Math.PI-posAngle:"inRadiusAxisRotateLabels"==b.inGraphDataRotate?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(posAngle+2*Math.PI)%(2*Math.PI)<3*Math.PI/2?3*Math.PI-posAngle:2*Math.PI-posAngle:b.inGraphDataRotate*(Math.PI/180)),d.fillText(q,0,0),d.restore()}}}function f(){for(var c,e=-b.startAngle*(Math.PI/180)+2*Math.PI,f=0;0>e;)e+=2*Math.PI;for(;e>2*Math.PI;)e-=2*Math.PI;if(i=g.leftNotUsableSize+g.availableWidth/2,j=g.topNotUsableSize+g.availableHeight/2,k=h([g.availableHeight/2,g.availableWidth/2])-5,d.font=b.pointLabelFontStyle+" "+b.pointLabelFontSize+"px "+b.pointLabelFontFamily,b.inGraphDataShow&&3==b.inGraphDataRadiusPosition&&"off-center"==b.inGraphDataAlign&&0==b.inGraphDataRotate){k=h([g.availableHeight/2,g.availableWidth/2])-b.inGraphDataFontSize-b.inGraphDataPaddingRadius-5;for(var m=b.startAngle*(Math.PI/180)+2*Math.PI;0>m;)m+=2*Math.PI;for(;m>2*Math.PI;)m-=2*Math.PI;for(var n=0,o=0;o<a.length;o++)"undefined"!=typeof a[o].value&&(n+=1*a[o].value);d.font=b.inGraphDataFontStyle+" "+b.inGraphDataFontSize+"px "+b.inGraphDataFontFamily;for(var p,f=0,o=0;o<a.length;o++)if("undefined"!=typeof a[o].value){f+=1*a[o].value;var q=1*a[o].value/l*2*Math.PI;e+=q,1==b.inGraphDataAnglePosition?p=m+b.inGraphDataPaddingAngle*(Math.PI/180):2==b.inGraphDataAnglePosition?p=m-q/2+b.inGraphDataPaddingAngle*(Math.PI/180):3==b.inGraphDataAnglePosition&&(p=m-q+b.inGraphDataPaddingAngle*(Math.PI/180)),m-=q,c="string"==typeof a[o].title?a[o].title.trim():"";var r=tmplbis(b.inGraphDataTmpl,{config:b,v1:fmtChartJS(b,c,b.fmtV1),v2:fmtChartJS(b,1*a[o].value,b.fmtV2),v3:fmtChartJS(b,f,b.fmtV3),v4:fmtChartJS(b,n,b.fmtV4),v5:fmtChartJS(b,q,b.fmtV5),v6:roundToWithThousands(b,fmtChartJS(b,100*a[o].value/n,b.fmtV6),b.roundPct),v7:fmtChartJS(b,i,b.fmtV7),v8:fmtChartJS(b,j,b.fmtV8),v9:fmtChartJS(b,0,b.fmtV9),v10:fmtChartJS(b,k,b.fmtV10),v11:fmtChartJS(b,e-q,b.fmtV11),v12:fmtChartJS(b,e,b.fmtV12),v13:fmtChartJS(b,o,b.fmtV13)}),s=d.measureText(r).width,t=Math.abs((g.availableWidth/2-s)/Math.cos(p))-b.inGraphDataPaddingRadius-5;k>t&&(k=t)}}k*=b.radiusScale}var g,i,j,k,l=0;if(dynamicFunction(a,b,d,"Pie")){for(;b.startAngle<0;)b.startAngle+=360;for(;b.startAngle>360;)b.startAngle-=360;b.logarithmic=!1;var m=0;jsGraphAnnotate[d.canvas.id]=new Array,s(d,a,b,"Pie"),r(d,b),g=p(a,b,d,w,v,null,!0,!1,!1,!1);for(var n=0;n<a.length;n++)"undefined"!=typeof a[n].value&&(l+=1*a[n].value);f(),c(b,null,e,d,g.clrx,g.clry,g.clrwidth,g.clrheight,i,j,i-k,j+k,a)}},B=function(a,b,d){function e(c){for(var e=-b.startAngle*(Math.PI/180)+2*Math.PI,f=0,g=1,h=1;0>e;)e+=2*Math.PI;for(;e>2*Math.PI;)e-=2*Math.PI;if(b.animation&&(b.animateScale&&(g=c),b.animateRotate&&(h=c)),c>=1){totvalue=0;for(var o=0;o<a.length;o++)"undefined"!=typeof a[o].value&&(totvalue+=1*a[o].value)}for(var o=0;o<a.length;o++)if("undefined"!=typeof a[o].value){var p=h*(1*a[o].value/k)*2*Math.PI;if(p>=2*Math.PI&&(p=2*Math.PI-.001),d.beginPath(),d.arc(i,j,g*doughnutRadius,e,e+p,!1),d.arc(i,j,g*n,e+p,e,!0),d.closePath(),d.fillStyle=a[o].color,d.fill(),e+=p,f+=1*a[o].value,b.segmentShowStroke&&(d.lineWidth=b.segmentStrokeWidth,d.strokeStyle=b.segmentStrokeColor,d.stroke()),c>=1&&(lgtxt="string"==typeof a[o].title?a[o].title.trim():"",jsGraphAnnotate[d.canvas.id][m++]=["ARC",i,j,n,doughnutRadius,e-p,e,lgtxt,1*a[o].value,f,totvalue,p,o],b.inGraphDataShow)){1==b.inGraphDataAnglePosition?posAngle=l+b.inGraphDataPaddingAngle*(Math.PI/180):2==b.inGraphDataAnglePosition?posAngle=l-p/2+b.inGraphDataPaddingAngle*(Math.PI/180):3==b.inGraphDataAnglePosition&&(posAngle=l-p+b.inGraphDataPaddingAngle*(Math.PI/180)),1==b.inGraphDataRadiusPosition?labelRadius=n+b.inGraphDataPaddingRadius:2==b.inGraphDataRadiusPosition?labelRadius=n+(doughnutRadius-n)/2+b.inGraphDataPaddingRadius:3==b.inGraphDataRadiusPosition&&(labelRadius=doughnutRadius+b.inGraphDataPaddingRadius),l-=p,d.save(),d.textAlign="off-center"==b.inGraphDataAlign?"inRadiusAxis"==b.inGraphDataRotate||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?"left":"right":"to-center"==b.inGraphDataAlign?"inRadiusAxis"==b.inGraphDataRotate||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?"right":"left":b.inGraphDataAlign,d.textBaseline="off-center"==b.inGraphDataVAlign?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?"top":"bottom":"to-center"==b.inGraphDataVAlign?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?"bottom":"top":b.inGraphDataVAlign,d.font=b.inGraphDataFontStyle+" "+b.inGraphDataFontSize+"px "+b.inGraphDataFontFamily,d.fillStyle=b.inGraphDataFontColor;var q=tmplbis(b.inGraphDataTmpl,{config:b,v1:fmtChartJS(b,lgtxt,b.fmtV1),v2:fmtChartJS(b,1*a[o].value,b.fmtV2),v3:fmtChartJS(b,f,b.fmtV3),v4:fmtChartJS(b,totvalue,b.fmtV4),v5:fmtChartJS(b,p,b.fmtV5),v6:roundToWithThousands(b,fmtChartJS(b,100*a[o].value/totvalue,b.fmtV6),b.roundPct),v7:fmtChartJS(b,i,b.fmtV7),v8:fmtChartJS(b,j,b.fmtV8),v9:fmtChartJS(b,n,b.fmtV9),v10:fmtChartJS(b,doughnutRadius,b.fmtV10),v11:fmtChartJS(b,e-p,b.fmtV11),v12:fmtChartJS(b,e,b.fmtV12),v13:fmtChartJS(b,o,b.fmtV13)});d.translate(i+labelRadius*Math.cos(posAngle),j-labelRadius*Math.sin(posAngle)),d.rotate("inRadiusAxis"==b.inGraphDataRotate?2*Math.PI-posAngle:"inRadiusAxisRotateLabels"==b.inGraphDataRotate?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(posAngle+2*Math.PI)%(2*Math.PI)<3*Math.PI/2?3*Math.PI-posAngle:2*Math.PI-posAngle:b.inGraphDataRotate*(Math.PI/180)),d.fillText(q,0,0),d.restore()}}}function f(){for(var c,e=-b.startAngle*(Math.PI/180)+2*Math.PI,f=0;0>e;)e+=2*Math.PI;for(;e>2*Math.PI;)e-=2*Math.PI;if(i=g.leftNotUsableSize+g.availableWidth/2,j=g.topNotUsableSize+g.availableHeight/2,doughnutRadius=h([g.availableHeight/2,g.availableWidth/2])-5,d.font=b.pointLabelFontStyle+" "+b.pointLabelFontSize+"px "+b.pointLabelFontFamily,b.inGraphDataShow&&3==b.inGraphDataRadiusPosition&&"off-center"==b.inGraphDataAlign&&0==b.inGraphDataRotate){doughnutRadius=h([g.availableHeight/2,g.availableWidth/2])-b.inGraphDataFontSize-b.inGraphDataPaddingRadius-5;for(var l=b.startAngle*(Math.PI/180)+2*Math.PI;0>l;)l+=2*Math.PI;for(;l>2*Math.PI;)l-=2*Math.PI;for(var m=0,o=0;o<a.length;o++)"undefined"!=typeof a[o].value&&(m+=1*a[o].value);d.font=b.inGraphDataFontStyle+" "+b.inGraphDataFontSize+"px "+b.inGraphDataFontFamily;for(var p,e=0,o=0;o<a.length;o++)if("undefined"!=typeof a[o].value){f+=1*a[o].value;var q=1*a[o].value/k*2*Math.PI;e+=q,1==b.inGraphDataAnglePosition?p=l+b.inGraphDataPaddingAngle*(Math.PI/180):2==b.inGraphDataAnglePosition?p=l-q/2+b.inGraphDataPaddingAngle*(Math.PI/180):3==b.inGraphDataAnglePosition&&(p=l-q+b.inGraphDataPaddingAngle*(Math.PI/180)),l-=q,c="string"==typeof a[o].title?a[o].title.trim():"";var r=tmplbis(b.inGraphDataTmpl,{config:b,v1:fmtChartJS(b,c,b.fmtV1),v2:fmtChartJS(b,1*a[o].value,b.fmtV2),v3:fmtChartJS(b,f,b.fmtV3),v4:fmtChartJS(b,m,b.fmtV4),v5:fmtChartJS(b,q,b.fmtV5),v6:roundToWithThousands(b,fmtChartJS(b,100*a[o].value/m,b.fmtV6),b.roundPct),v7:fmtChartJS(b,i,b.fmtV7),v8:fmtChartJS(b,j,b.fmtV8),v9:fmtChartJS(b,n,b.fmtV9),v10:fmtChartJS(b,doughnutRadius,b.fmtV10),v11:fmtChartJS(b,e-q,b.fmtV11),v12:fmtChartJS(b,e,b.fmtV12),v13:fmtChartJS(b,o,b.fmtV13)}),s=d.measureText(r).width,t=Math.abs((g.availableWidth/2-s)/Math.cos(p))-b.inGraphDataPaddingRadius-5;doughnutRadius>t&&(doughnutRadius=t)}}doughnutRadius*=b.radiusScale}var g,i,j,k=0;if(dynamicFunction(a,b,d,"Doughnut")){for(var l=b.startAngle*(Math.PI/180)+2*Math.PI;b.startAngle<0;)b.startAngle+=360;for(;b.startAngle>360;)b.startAngle-=360;for(;0>l;)l+=2*Math.PI;for(;l>2*Math.PI;)l-=2*Math.PI;b.logarithmic=!1;var m=0;jsGraphAnnotate[d.canvas.id]=new Array,s(d,a,b,"Doughnut"),r(d,b),g=p(a,b,d,w,v,null,!0,!1,!1,!1),f();for(var n=doughnutRadius*(b.percentageInnerCutout/100),o=0;o<a.length;o++)"undefined"!=typeof a[o].value&&(k+=1*a[o].value);c(b,null,e,d,g.clrx,g.clry,g.clrwidth,g.clrheight,i,j,i-doughnutRadius,j+doughnutRadius,a)}},C=function(a,h,i){function j(c){function d(d,e){return A-c*b(h,a.datasets[d].data[e],o,n)}function e(a){return z+y*a}for(var f=new Array,j=new Array,k=0;k<a.datasets.length;k++)for(var l=0;l<a.datasets[k].data.length;l++)f[l]=0,j[l]=-999999999;for(var k=0;k<a.datasets.length;k++)for(var l=0;l<a.datasets[k].data.length;l++)f[l]+=a.datasets[k].data[l],j[l]=g([j[l],a.datasets[k].data[l]]);for(var k=0;k<a.datasets.length;k++){var m=-1,p=-1;c>=1&&(lgtxt="string"==typeof a.datasets[k].title?a.datasets[k].title.trim():""),i.strokeStyle=a.datasets[k].strokeColor,i.lineWidth=h.datasetStrokeWidth,i.beginPath();for(var l=0;l<a.datasets[k].data.length;l++)if("undefined"!=typeof a.datasets[k].data[l]&&(-1==m?(i.moveTo(e(l),d(k,l)),p=l):h.bezierCurve?i.bezierCurveTo(e(l-(l-m)/2),d(k,m),e(l-(l-m)/2),d(k,l),e(l),d(k,l)):i.lineTo(e(l),d(k,l)),m=l,c>=1&&(divprev=0==k?a.datasets[k].data[l]:a.datasets[k].data[l]-a.datasets[k-1].data[l],divnext=k==a.datasets.length-1?a.datasets[k].data[l]:a.datasets[k].data[l]-a.datasets[k+1].data[l],lgtxt2="string"==typeof a.labels[l]?a.labels[l].trim():"",jsGraphAnnotate[i.canvas.id][C++]=["POINT",e(l),d(k,l),lgtxt,lgtxt2,1*a.datasets[k].data[l],divprev,divnext,j[l],f[l],k,l],h.inGraphDataShow))){i.save(),i.textAlign=h.inGraphDataAlign,i.textBaseline=h.inGraphDataVAlign,i.font=h.inGraphDataFontStyle+" "+h.inGraphDataFontSize+"px "+h.inGraphDataFontFamily,i.fillStyle=h.inGraphDataFontColor;var q=(A-c*b(h,a.datasets[k].data[l],o,n),h.inGraphDataPaddingX),r=h.inGraphDataPaddingY,s=tmplbis(h.inGraphDataTmpl,{config:h,v1:fmtChartJS(h,lgtxt,h.fmtV1),v2:fmtChartJS(h,lgtxt2,h.fmtV2),v3:fmtChartJS(h,1*a.datasets[k].data[l],h.fmtV3),v4:fmtChartJS(h,divprev,h.fmtV4),v5:fmtChartJS(h,divnext,h.fmtV5),v6:fmtChartJS(h,j[l],h.fmtV6),v7:fmtChartJS(h,f[l],h.fmtV7),v8:roundToWithThousands(h,fmtChartJS(h,100*a.datasets[k].data[l]/f[l],h.fmtV8),h.roundPct),v9:fmtChartJS(h,z,h.fmtV9),v10:fmtChartJS(h,A-b(h,a.datasets[k].data[l],o,n),h.fmtV10),v11:fmtChartJS(h,k,h.fmtV11),v12:fmtChartJS(h,l,h.fmtV12)});i.translate(e(l)+q,d(k,l)-r),i.rotate(h.inGraphDataRotate*(Math.PI/180)),i.fillText(s,0,0),i.restore()}if(i.stroke(),h.datasetFill?(i.lineTo(z+y*(a.datasets[k].data.length-1),A-E),i.lineTo(e(p),A-E),i.lineTo(e(p),d(k,p)),i.closePath(),i.fillStyle=a.datasets[k].fillColor,i.fill()):i.closePath(),h.pointDot){i.fillStyle=a.datasets[k].pointColor,i.strokeStyle=a.datasets[k].pointStrokeColor,i.lineWidth=h.pointDotStrokeWidth;for(var t=0;t<a.datasets[k].data.length;t++)"undefined"!=typeof a.datasets[k].data[t]&&(i.beginPath(),i.arc(z+y*t,A-c*b(h,a.datasets[k].data[t],o,n),h.pointDotRadius,0,2*Math.PI,!0),i.fill(),i.stroke())}}}function k(){i.lineWidth=h.scaleLineWidth,i.strokeStyle=h.scaleLineColor,i.beginPath(),i.moveTo(z-h.scaleTickSizeLeft,A),i.lineTo(z+B.availableWidth+h.scaleTickSizeRight,A),i.stroke();for(var b=0;b<a.labels.length;b++)i.beginPath(),i.moveTo(z+b*y,A+h.scaleTickSizeBottom),i.lineWidth=h.scaleGridLineWidth,i.strokeStyle=h.scaleGridLineColor,h.scaleShowGridLines&&b>0&&b%h.scaleXGridLinesStep==0?i.lineTo(z+b*y,A-B.availableHeight-h.scaleTickSizeTop):i.lineTo(z+b*y,A),i.stroke();i.lineWidth=h.scaleLineWidth,i.strokeStyle=h.scaleLineColor,i.beginPath(),i.moveTo(z,A+h.scaleTickSizeBottom),i.lineTo(z,A-B.availableHeight-h.scaleTickSizeTop),i.stroke();for(var c=0;c<o.steps;c++)i.beginPath(),i.moveTo(z-h.scaleTickSizeLeft,A-(c+1)*n),i.lineWidth=h.scaleGridLineWidth,i.strokeStyle=h.scaleGridLineColor,h.scaleShowGridLines&&c%h.scaleYGridLinesStep==0?i.lineTo(z+B.availableWidth+h.scaleTickSizeRight,A-(c+1)*n):i.lineTo(z,A-(c+1)*n),i.stroke()}function l(){if(i.font=h.scaleFontStyle+" "+h.scaleFontSize+"px "+h.scaleFontFamily,(h.xAxisTop||h.xAxisBottom)&&(i.textBaseline="top",B.rotateLabels>90?(i.save(),i.textAlign="left"):B.rotateLabels>0?(i.save(),i.textAlign="right"):i.textAlign="center",i.fillStyle=h.scaleFontColor,h.xAxisBottom))for(var b=0;b<a.labels.length;b++)i.save(),B.rotateLabels>0?(i.translate(z+b*y-h.scaleFontSize/2,B.xLabelPos),i.rotate(-(B.rotateLabels*(Math.PI/180))),i.fillText(fmtChartJS(h,a.labels[b],h.fmtXLabel),0,0)):i.fillText(fmtChartJS(h,a.labels[b],h.fmtXLabel),z+b*y,B.xLabelPos),i.restore();i.textAlign="right",i.textBaseline="middle";for(var c=h.showYAxisMin?-1:0;c<o.steps;c++)h.scaleShowLabels&&(h.yAxisLeft&&(i.textAlign="right",i.fillText(o.labels[c+1],z-(h.scaleTickSizeLeft+3),A-(c+1)*n)),h.yAxisRight&&(i.textAlign="left",i.fillText(o.labels[c+1],z+B.availableWidth+(h.scaleTickSizeRight+3),A-(c+1)*n)))}function m(){for(var b=Number.MIN_VALUE,c=Number.MAX_VALUE,d=0;d<a.datasets.length;d++)for(var e=0;e<a.datasets[d].data.length;e++)1*a.datasets[d].data[e]>b&&(b=1*a.datasets[d].data[e]),1*a.datasets[d].data[e]<c&&(c=1*a.datasets[d].data[e]);Math.abs(b-c)<1e-8&&(b=g([2*b,1]),c=0),isNaN(h.graphMin)||(c=h.graphMin),isNaN(h.graphMax)||(b=h.graphMax);var f=Math.floor(t/(.66*q)),i=Math.floor(t/q*.5);return{maxValue:b,minValue:c,maxDailySteps:f,minSteps:i}}var n,o,q,t,u,x,y,z,A,B,C=0;if(dynamicFunction(a,h,i,"Line")){jsGraphAnnotate[i.canvas.id]=new Array,s(i,a,h,"Line"),r(i,h),u=m(),h.logarithmic!==!1&&u.minValue<=0&&(h.logarithmic=!1);var D=e(Math.pow(10,e(u.maxValue)+1))-e(Math.pow(10,e(u.minValue)));("fuzzy"==h.logarithmic&&4>D||h.scaleOverride)&&(h.logarithmic=!1),x=h.scaleShowLabels?h.scaleLabel:"",h.scaleOverride?(o={steps:h.scaleSteps,stepValue:h.scaleStepWidth,graphMin:h.scaleStartValue,graphMax:h.scaleStartValue+h.scaleSteps*h.scaleStepWidth,labels:[]},f(h,x,o.labels,o.steps,h.scaleStartValue,o.graphMax,h.scaleStepWidth),B=p(a,h,i,w,v,o.labels,!1,!1,!0,!0)):(o=d(h,u.maxDailySteps,u.minSteps,u.maxValue,u.minValue,x),B=p(a,h,i,w,v,o.labels,!1,!1,!0,!0)),B.availableHeight=B.availableHeight-h.scaleTickSizeBottom-h.scaleTickSizeTop,B.availableWidth=B.availableWidth-h.scaleTickSizeLeft-h.scaleTickSizeRight,n=Math.floor(B.availableHeight/o.steps),y=Math.floor(B.availableWidth/(a.labels.length-1)),0==y&&(y=B.availableWidth/(a.labels.length-1)),B.clrwidth=B.clrwidth-(B.availableWidth-(a.labels.length-1)*y),B.availableWidth=(a.labels.length-1)*y,B.availableHeight=o.steps*n,z=B.leftNotUsableSize+h.scaleTickSizeLeft,A=B.topNotUsableSize+B.availableHeight+h.scaleTickSizeTop,l();var E=0;if(u.minValue<0)var E=b(h,0,o,n);c(h,k,j,i,B.clrx,B.clry,B.clrwidth,B.clrheight,z+B.availableWidth/2,A-B.availableHeight/2,z,A,a)}},D=function(a,e,f){function h(c){f.lineWidth=e.barStrokeWidth;for(var d=new Array(a.datasets.length),g=new Array(a.datasets.length),h=new Array,i=new Array,j=0;j<a.datasets.length;j++)for(var k=0;k<a.datasets[j].data.length;k++)h[k]=0,i[k]=0;for(var j=0;j<a.datasets.length;j++)for(var k=0;k<a.datasets[j].data.length;k++)"undefined"!=typeof a.datasets[j].data[k]&&(i[k]+=1*a.datasets[j].data[k]);for(var j=0;j<a.datasets.length;j++){f.fillStyle=a.datasets[j].fillColor,f.strokeStyle=a.datasets[j].strokeColor,c>=1&&(lgtxt="string"==typeof a.datasets[j].title?a.datasets[j].title.trim():"");for(var k=0;k<a.datasets[j].data.length;k++)if(0==j&&(d[k]=0,g[k]=-1),"undefined"!=typeof a.datasets[j].data[k]){var l=z+e.barValueSpacing+y*k;f.beginPath(),f.moveTo(l,A-d[k]+1),f.lineTo(l,A-c*b(e,(g[k]>=0)*o.graphMin+1*a.datasets[j].data[k],o,m)+e.barStrokeWidth/2-d[k]),f.lineTo(l+B,A-c*b(e,(g[k]>=0)*o.graphMin+1*a.datasets[j].data[k],o,m)+e.barStrokeWidth/2-d[k]),f.lineTo(l+B,A-d[k]+1),e.barShowStroke&&f.stroke(),f.closePath(),f.fill(),h[k]+=1*a.datasets[j].data[k],c>=1&&(lgtxt2="string"==typeof a.labels[k]?a.labels[k].trim():"",jsGraphAnnotate[f.canvas.id][D++]=["RECT",l,A-d[k]+1,l+B,A-b(e,(g[k]>=0)*o.graphMin+1*a.datasets[j].data[k],o,m)+e.barStrokeWidth/2-d[k],lgtxt,lgtxt2,1*a.datasets[j].data[k],h[k],i[k],j,k]),d[k]+=c*b(e,(g[k]>=0)*o.graphMin+1*a.datasets[j].data[k],o,m)-e.barStrokeWidth/2,-1==g[k]&&(g[k]=j)}}if(c>=1&&e.inGraphDataShow){for(var n=0,p=0,j=0;j<a.datasets.length;j++)for(var k=0;k<a.datasets[j].data.length;k++)h[k]=0;for(var j=0;j<a.datasets.length;j++){lgtxt="string"==typeof a.datasets[j].title?a.datasets[j].title.trim():"";for(var k=0;k<a.datasets[j].data.length;k++)if(0==j&&(d[k]=0,g[k]=-1),"undefined"!=typeof a.datasets[j].data[k]){f.save(),f.textAlign=e.inGraphDataAlign,f.textBaseline=e.inGraphDataVAlign,f.font=e.inGraphDataFontStyle+" "+e.inGraphDataFontSize+"px "+e.inGraphDataFontFamily,f.fillStyle=e.inGraphDataFontColor,lgtxt2="string"==typeof a.labels[k]?a.labels[k].trim():"";var q=tmplbis(e.inGraphDataTmpl,{config:e,v1:fmtChartJS(e,lgtxt,e.fmtV1),v2:fmtChartJS(e,lgtxt2,e.fmtV2),v3:fmtChartJS(e,1*a.datasets[j].data[k],e.fmtV3),v4:fmtChartJS(e,h[k],e.fmtV4),v5:fmtChartJS(e,i[k],e.fmtV5),v6:roundToWithThousands(e,fmtChartJS(e,100*a.datasets[j].data[k]/i[k],e.fmtV6),e.roundPct),v7:fmtChartJS(e,l,e.fmtV7),v8:fmtChartJS(e,A,e.fmtV8),v9:fmtChartJS(e,l+B,e.fmtV9),v10:fmtChartJS(e,A-b(e,a.datasets[j].data[k],o,m)+e.barStrokeWidth/2,e.fmtV10),v11:fmtChartJS(e,j,e.fmtV11),v12:fmtChartJS(e,k,e.fmtV12)}),l=z+e.barValueSpacing+y*k;f.beginPath(),f.beginPath(),n=0,p=0,1==e.inGraphDataXPosition?p=l+e.inGraphDataPaddingX:2==e.inGraphDataXPosition?p=l+B/2+e.inGraphDataPaddingX:3==e.inGraphDataXPosition&&(p=l+B+e.inGraphDataPaddingX),1==e.inGraphDataYPosition?n=A-d[k]-e.inGraphDataPaddingY:2==e.inGraphDataYPosition?n=A-(b(e,(g[k]>=0)*o.graphMin+1*a.datasets[j].data[k],o,m)+e.barStrokeWidth/2)/2-d[k]-e.inGraphDataPaddingY:3==e.inGraphDataYPosition&&(n=A-b(e,(g[k]>=0)*o.graphMin+1*a.datasets[j].data[k],o,m)+e.barStrokeWidth/2-d[k]-e.inGraphDataPaddingY),f.translate(p,n),f.rotate(e.inGraphDataRotate*(Math.PI/180)),f.fillText(q,0,0),f.restore(),h[k]+=1+a.datasets[j].data[k],d[k]+=c*b(e,(g[k]>=0)*o.graphMin+1*a.datasets[j].data[k],o,m)-e.barStrokeWidth/2,-1==g[k]&&(g[k]=j)}}}}function i(){f.lineWidth=e.scaleLineWidth,f.strokeStyle=e.scaleLineColor,f.beginPath(),f.moveTo(z-e.scaleTickSizeLeft,A),f.lineTo(z+C.availableWidth+e.scaleTickSizeRight,A),f.stroke();for(var b=0;b<a.labels.length;b++)f.beginPath(),f.moveTo(z+b*y,A+e.scaleTickSizeBottom),f.lineWidth=e.scaleGridLineWidth,f.strokeStyle=e.scaleGridLineColor,e.scaleShowGridLines&&b>0&&b%e.scaleXGridLinesStep==0?f.lineTo(z+b*y,A-C.availableHeight-e.scaleTickSizeTop):f.lineTo(z+b*y,A),f.stroke();f.lineWidth=e.scaleLineWidth,f.strokeStyle=e.scaleLineColor,f.beginPath(),f.moveTo(z,A+e.scaleTickSizeBottom),f.lineTo(z,A-C.availableHeight-e.scaleTickSizeTop),f.stroke();for(var c=e.showYAxisMin?-1:0;c<o.steps;c++)f.beginPath(),f.moveTo(z-e.scaleTickSizeLeft,A-(c+1)*m),f.lineWidth=e.scaleGridLineWidth,f.strokeStyle=e.scaleGridLineColor,e.scaleShowGridLines&&c%e.scaleYGridLinesStep==0?f.lineTo(z+C.availableWidth+e.scaleTickSizeRight,A-(c+1)*m):f.lineTo(z,A-(c+1)*m),f.stroke()}function j(){if(f.font=e.scaleFontStyle+" "+e.scaleFontSize+"px "+e.scaleFontFamily,(e.xAxisTop||e.xAxisBottom)&&(f.textBaseline="top",C.rotateLabels>90?(f.save(),f.textAlign="left"):C.rotateLabels>0?(f.save(),f.textAlign="right"):f.textAlign="center",f.fillStyle=e.scaleFontColor,e.xAxisBottom))for(var b=0;b<a.labels.length;b++)f.save(),C.rotateLabels>0?(f.translate(z+b*y+B/2-e.scaleFontSize/2,C.xLabelPos),f.rotate(-(C.rotateLabels*(Math.PI/180))),f.fillText(fmtChartJS(e,a.labels[b],e.fmtXLabel),0,0)):f.fillText(fmtChartJS(e,a.labels[b],e.fmtXLabel),z+b*y+B/2,C.xLabelPos),f.restore();f.textAlign="right",f.textBaseline="middle";for(var c=e.showYAxisMin?-1:0;c<o.steps;c++)e.scaleShowLabels&&(e.yAxisLeft&&(f.textAlign="right",f.fillText(o.labels[c+1],z-(e.scaleTickSizeLeft+3),A-(c+1)*m)),e.yAxisRight&&(f.textAlign="left",f.fillText(o.labels[c+1],z+C.availableWidth+(e.scaleTickSizeRight+3),A-(c+1)*m)))}function k(){for(var b=Number.MIN_VALUE,c=Number.MAX_VALUE,d=(new Array(a.datasets.length),new Array(a.datasets.length),0);d<a.datasets.length;d++)for(var f=0;f<a.datasets[d].data.length;f++){var h=d,i=0;for("undefined"!=typeof a.datasets[0].data[f]&&(i+=1*a.datasets[0].data[f],i>b&&(b=i),c>i&&(c=i));h>0;)"undefined"!=typeof a.datasets[h].data[f]&&(i+=1*a.datasets[h].data[f],i>b&&(b=i),c>i&&(c=i)),h--}isNaN(e.graphMin)||(c=e.graphMin),isNaN(e.graphMax)||(b=e.graphMax),Math.abs(b-c)<1e-8&&(b=g([2*b,1]),c=0);var j=Math.floor(t/(.66*q)),k=Math.floor(t/q*.5);return{maxValue:b,minValue:c,maxDailySteps:j,minSteps:k}}var m,o,q,t,u,x,y,z,A,B,C;if(dynamicFunction(a,e,f,"StackedBar")){e.logarithmic=!1;var D=0;if(jsGraphAnnotate[f.canvas.id]=new Array,s(f,a,e,"StackedBar"),r(f,e),u=k(),x=e.scaleShowLabels?e.scaleLabel:"",e.scaleOverride){o={steps:e.scaleSteps,stepValue:e.scaleStepWidth,graphMin:e.scaleStartValue,labels:[]};for(var E=0;E<o.steps;E++)x&&o.labels.push(n(x,{value:fmtChartJS(e,1*(e.scaleStartValue+e.scaleStepWidth*(E+1)).toFixed(l(e.scaleStepWidth)),e.fmtYLabel)}));C=p(a,e,f,w,v,o.labels,!0,!1,!0,!0)}else o=d(e,u.maxDailySteps,u.minSteps,u.maxValue,u.minValue,x),C=p(a,e,f,w,v,o.labels,!0,!1,!0,!0);C.availableHeight=C.availableHeight-e.scaleTickSizeBottom-e.scaleTickSizeTop,C.availableWidth=C.availableWidth-e.scaleTickSizeLeft-e.scaleTickSizeRight,m=Math.floor(C.availableHeight/o.steps),y=Math.floor(C.availableWidth/a.labels.length),0==y&&(y=C.availableWidth/(a.labels.length-1)),C.clrwidth=C.clrwidth-(C.availableWidth-a.labels.length*y),C.availableWidth=a.labels.length*y,C.availableHeight=o.steps*m,z=C.leftNotUsableSize+e.scaleTickSizeLeft,A=C.topNotUsableSize+C.availableHeight+e.scaleTickSizeTop,B=y-2*e.scaleGridLineWidth-2*e.barValueSpacing-(e.barDatasetSpacing*a.datasets.length-1)-e.barStrokeWidth/2-1,j(),c(e,i,h,f,C.clrx,C.clry,C.clrwidth,C.clrheight,z+C.availableWidth/2,A-C.availableHeight/2,z,A,a)}},E=function(a,b,e){function f(a,b,c){var d=b.steps*b.stepValue,e=a-b.graphMin,f=k(e/d,1,0);return c*b.steps*f}function h(c){e.lineWidth=b.barStrokeWidth;for(var d=new Array(a.datasets.length),g=new Array(a.datasets.length),h=new Array,i=new Array,j=0;j<a.datasets.length;j++)for(var k=0;k<a.datasets[j].data.length;k++)h[k]=0,i[k]=0;for(var j=0;j<a.datasets.length;j++)for(var k=0;k<a.datasets[j].data.length;k++)"undefined"!=typeof a.datasets[j].data[k]&&(i[k]+=1*a.datasets[j].data[k]);for(var j=0;j<a.datasets.length;j++){e.fillStyle=a.datasets[j].fillColor,e.strokeStyle=a.datasets[j].strokeColor,c>=1&&(lgtxt="string"==typeof a.datasets[j].title?a.datasets[j].title.trim():"");for(var k=0;k<a.datasets[j].data.length;k++)if(0==j&&(d[k]=0,g[k]=-1),"undefined"!=typeof a.datasets[j].data[k]){var l=B+b.barValueSpacing-o*(k+1);e.beginPath(),e.moveTo(A+d[k]+1,l),e.lineTo(A+d[k]+c*f((g[k]>=0)*q.graphMin+1*a.datasets[j].data[k],q,z)+b.barStrokeWidth/2,l),e.lineTo(A+d[k]+c*f((g[k]>=0)*q.graphMin+1*a.datasets[j].data[k],q,z)+b.barStrokeWidth/2,l+C),e.lineTo(A+d[k]+1,l+C),e.lineTo(A+d[k]+1,l),b.barShowStroke&&e.stroke(),e.closePath(),e.fill(),h[k]+=1*a.datasets[j].data[k],c>=1&&(lgtxt2="string"==typeof a.labels[k]?a.labels[k].trim():"",jsGraphAnnotate[e.canvas.id][E++]=["RECT",A+d[k]+1,l+C,A+d[k]+f((g[k]>=0)*q.graphMin+1*a.datasets[j].data[k],q,z)+b.barStrokeWidth/2,l,lgtxt,lgtxt2,1*a.datasets[j].data[k],h[k],i[k],j,k]),d[k]+=c*f((g[k]>=0)*q.graphMin+1*a.datasets[j].data[k],q,z)+b.barStrokeWidth/2,-1==g[k]&&(g[k]=j)}}if(c>=1&&b.inGraphDataShow){for(var m=0,n=0,j=0;j<a.datasets.length;j++)for(var k=0;k<a.datasets[j].data.length;k++)h[k]=0;for(var j=0;j<a.datasets.length;j++){lgtxt="string"==typeof a.datasets[j].title?a.datasets[j].title.trim():"";for(var k=0;k<a.datasets[j].data.length;k++)if(0==j&&(d[k]=0,g[k]=-1),"undefined"!=typeof a.datasets[j].data[k]){e.save(),e.textAlign=b.inGraphDataAlign,e.textBaseline=b.inGraphDataVAlign,e.font=b.inGraphDataFontStyle+" "+b.inGraphDataFontSize+"px "+b.inGraphDataFontFamily,e.fillStyle=b.inGraphDataFontColor,lgtxt2="string"==typeof a.labels[k]?a.labels[k].trim():"";var l=B+b.barValueSpacing-o*(k+1),p=tmplbis(b.inGraphDataTmpl,{config:b,v1:fmtChartJS(b,lgtxt,b.fmtV1),v2:fmtChartJS(b,lgtxt2,b.fmtV2),v3:fmtChartJS(b,1*a.datasets[j].data[k],b.fmtV3),v4:fmtChartJS(b,h[k],b.fmtV4),v5:fmtChartJS(b,i[k],b.fmtV5),v6:roundToWithThousands(b,fmtChartJS(b,100*a.datasets[j].data[k]/i[k],b.fmtV6),b.roundPct),v7:fmtChartJS(b,A,b.fmtV7),v8:fmtChartJS(b,l+C,b.fmtV8),v9:fmtChartJS(b,A+f(a.datasets[j].data[k],q,z)+b.barStrokeWidth/2,b.fmtV9),v10:fmtChartJS(b,l,b.fmtV10),v11:fmtChartJS(b,j,b.fmtV11),v12:fmtChartJS(b,k,b.fmtV12)});e.beginPath(),m=0,n=0,1==b.inGraphDataXPosition?n=A+d[k]+1+b.inGraphDataPaddingX:2==b.inGraphDataXPosition?n=A+d[k]+(f((g[k]>=0)*q.graphMin+1*a.datasets[j].data[k],q,z)+b.barStrokeWidth/2)/2+b.inGraphDataPaddingX:3==b.inGraphDataXPosition&&(n=A+d[k]+f((g[k]>=0)*q.graphMin+1*a.datasets[j].data[k],q,z)+b.barStrokeWidth/2+b.inGraphDataPaddingX),1==b.inGraphDataYPosition?m=l+C-b.inGraphDataPaddingY:2==b.inGraphDataYPosition?m=l+C/2-b.inGraphDataPaddingY:3==b.inGraphDataYPosition&&(m=l-b.inGraphDataPaddingY),e.translate(n,m),e.rotate(b.inGraphDataRotate*(Math.PI/180)),e.fillText(p,0,0),e.restore(),h[k]+=a.datasets[j].data[k],d[k]+=c*f((g[k]>=0)*q.graphMin+1*a.datasets[j].data[k],q,z)+b.barStrokeWidth/2,-1==g[k]&&(g[k]=j)}}}}function i(){e.lineWidth=b.scaleLineWidth,e.strokeStyle=b.scaleLineColor,e.beginPath(),e.moveTo(A-b.scaleTickSizeLeft,B),e.lineTo(A+D.availableWidth,B),e.stroke();for(var c=b.showYAxisMin?-1:0;c<q.steps;c++)c>=0&&(e.beginPath(),e.moveTo(A+c*z,B+b.scaleTickSizeBottom),e.lineWidth=b.scaleGridLineWidth,e.strokeStyle=b.scaleGridLineColor,b.scaleShowGridLines&&c>0&&c%b.scaleXGridLinesStep==0?e.lineTo(A+c*z,B-D.availableHeight-b.scaleTickSizeTop):e.lineTo(A+c*z,B),e.stroke());e.lineWidth=b.scaleLineWidth,e.strokeStyle=b.scaleLineColor,e.beginPath(),e.moveTo(A,B+b.scaleTickSizeBottom),e.lineTo(A,B-D.availableHeight-b.scaleTickSizeTop),e.stroke();for(var d=0;d<a.labels.length;d++)e.beginPath(),e.moveTo(A-b.scaleTickSizeLeft,B-(d+1)*o),e.lineWidth=b.scaleGridLineWidth,e.strokeStyle=b.scaleGridLineColor,b.scaleShowGridLines&&d%b.scaleYGridLinesStep==0?e.lineTo(A+D.availableWidth,B-(d+1)*o):e.lineTo(A,B-(d+1)*o),e.stroke()}function j(){if(e.font=b.scaleFontStyle+" "+b.scaleFontSize+"px "+b.scaleFontFamily,(b.xAxisTop||b.xAxisBottom)&&(e.textBaseline="top",D.rotateLabels>90?(e.save(),e.textAlign="left"):D.rotateLabels>0?(e.save(),e.textAlign="right"):e.textAlign="center",e.fillStyle=b.scaleFontColor,b.xAxisBottom))for(var c=b.showYAxisMin?-1:0;c<q.steps;c++)e.save(),D.rotateLabels>0?(e.translate(A+(c+1)*z-b.scaleFontSize/2,D.xLabelPos),e.rotate(-(D.rotateLabels*(Math.PI/180))),e.fillText(q.labels[c+1],0,0)):e.fillText(q.labels[c+1],A+(c+1)*z,D.xLabelPos),e.restore();e.textAlign="right",e.textBaseline="middle";for(var d=0;d<a.labels.length;d++)b.scaleShowLabels&&(b.yAxisLeft&&(e.textAlign="right",e.fillText(fmtChartJS(b,a.labels[d],b.fmtXLabel),A-(b.scaleTickSizeLeft+3),B-(d+1)*o+C/2)),b.yAxisRight&&(e.textAlign="left",e.fillText(fmtChartJS(b,a.labels[d],b.fmtXLabel),A+D.availableWidth+(b.scaleTickSizeRight+3),B-(d+1)*o+C/2)))}function m(){for(var c=Number.MIN_VALUE,d=Number.MAX_VALUE,e=(new Array(a.datasets.length),new Array(a.datasets.length),0);e<a.datasets.length;e++)for(var f=0;f<a.datasets[e].data.length;f++){var h=e,i=0;for("undefined"!=typeof a.datasets[0].data[f]&&(i+=1*a.datasets[0].data[f],i>c&&(c=i),d>i&&(d=i));h>0;)"undefined"!=typeof a.datasets[h].data[f]&&(i+=1*a.datasets[h].data[f],i>c&&(c=i),d>i&&(d=i)),h--}isNaN(b.graphMin)||(d=b.graphMin),isNaN(b.graphMax)||(c=b.graphMax),Math.abs(c-d)<1e-8&&(c=g([2*c,1]),d=0);var j=Math.floor(u/(.66*t)),k=Math.floor(u/t*.5);return{maxValue:c,minValue:d,maxDailySteps:j,minSteps:k}}var o,q,t,u,x,y,z,A,B,C,D;if(dynamicFunction(a,b,e,"HorizontalStackedBar")){b.logarithmic=!1;var E=0;if(jsGraphAnnotate[e.canvas.id]=new Array,s(e,a,b,"HorizontalStackedBar"),r(e,b),x=m(),y=b.scaleShowLabels?b.scaleLabel:"",b.scaleOverride){q={steps:b.scaleSteps,stepValue:b.scaleStepWidth,graphMin:b.scaleStartValue,labels:[]};for(var F=0;F<q.steps;F++)y&&q.labels.push(n(y,{value:fmtChartJS(b,1*(b.scaleStartValue+b.scaleStepWidth*(F+1)).toFixed(l(b.scaleStepWidth)),b.fmtYLabel)}));D=p(a,b,e,w,v,q.labels,!0,!0,!0,!0)}else q=d(b,x.maxDailySteps,x.minSteps,x.maxValue,x.minValue,y),D=p(a,b,e,w,v,q.labels,!0,!0,!0,!0);D.availableHeight=D.availableHeight-b.scaleTickSizeBottom-b.scaleTickSizeTop,D.availableWidth=D.availableWidth-b.scaleTickSizeLeft-b.scaleTickSizeRight,o=Math.floor(D.availableHeight/a.labels.length),z=Math.floor(D.availableWidth/q.steps),0==z&&(z=D.availableWidth/(a.labels.length-1)),D.clrwidth=D.clrwidth-(D.availableWidth-q.steps*z),D.availableWidth=q.steps*z,D.availableHeight=a.labels.length*o,A=D.leftNotUsableSize+b.scaleTickSizeLeft,B=D.topNotUsableSize+D.availableHeight+b.scaleTickSizeTop,C=o-2*b.scaleGridLineWidth-2*b.barValueSpacing-(b.barDatasetSpacing*a.datasets.length-1)-b.barStrokeWidth/2-1,j(),c(b,i,h,e,D.clrx,D.clry,D.clrwidth,D.clrheight,A+D.availableWidth/2,B-D.availableHeight/2,A,B,a)
}},F=function(a,h,i){function j(c){for(var d,e,f,g=new Array,j=new Array,k=0;k<a.datasets.length;k++)for(var l=0;l<a.datasets[k].data.length;l++)g[l]=0,j[l]=0;for(var k=0;k<a.datasets.length;k++)for(var l=0;l<a.datasets[k].data.length;l++)"undefined"!=typeof a.datasets[k].data[l]&&(j[l]+=1*a.datasets[k].data[l]);i.lineWidth=h.barStrokeWidth;for(var k=0;k<a.datasets.length;k++){i.fillStyle=a.datasets[k].fillColor,i.strokeStyle=a.datasets[k].strokeColor,c>=1&&(lgtxt="string"==typeof a.datasets[k].title?a.datasets[k].title.trim():"");for(var l=0;l<a.datasets[k].data.length;l++)if("undefined"!=typeof a.datasets[k].data[l]){var m=z+h.barValueSpacing+y*l+B*k+h.barDatasetSpacing*k+h.barStrokeWidth*k;i.beginPath(),i.moveTo(m,A-F),i.lineTo(m,A-c*b(h,1*a.datasets[k].data[l],o,n)+h.barStrokeWidth/2),i.lineTo(m+B,A-c*b(h,1*a.datasets[k].data[l],o,n)+h.barStrokeWidth/2),i.lineTo(m+B,A-F),h.barShowStroke&&i.stroke(),i.closePath(),i.fill(),g[l]+=1*a.datasets[k].data[l],c>=1&&(lgtxt2="string"==typeof a.labels[l]?a.labels[l].trim():"",d=A-F,e=A-b(h,1*a.datasets[k].data[l],o,n)+h.barStrokeWidth/2,e>d&&(f=d,d=e,e=f),jsGraphAnnotate[i.canvas.id][D++]=["RECT",m,d,m+B,e,lgtxt,lgtxt2,1*a.datasets[k].data[l],g[l],j[l],k,l])}}if(c>=1&&h.inGraphDataShow){for(var k=0;k<a.datasets.length;k++)for(var l=0;l<a.datasets[k].data.length;l++)g[l]=0;for(var k=0;k<a.datasets.length;k++){lgtxt="string"==typeof a.datasets[k].title?a.datasets[k].title.trim():"";for(var l=0;l<a.datasets[k].data.length;l++)if("undefined"!=typeof a.datasets[k].data[l]){"string"==typeof a.labels[l]&&(lgtxt2=a.labels[l].trim()),i.save(),i.textAlign=h.inGraphDataAlign,i.textBaseline=h.inGraphDataVAlign,i.font=h.inGraphDataFontStyle+" "+h.inGraphDataFontSize+"px "+h.inGraphDataFontFamily,i.fillStyle=h.inGraphDataFontColor;var m=z+h.barValueSpacing+y*l+B*k+h.barDatasetSpacing*k+h.barStrokeWidth*k;d=A-F,e=A-b(h,1*a.datasets[k].data[l],o,n)+h.barStrokeWidth/2,i.beginPath();var p=0,q=0;1==h.inGraphDataXPosition?q=m+h.inGraphDataPaddingX:2==h.inGraphDataXPosition?q=m+B/2+h.inGraphDataPaddingX:3==h.inGraphDataXPosition&&(q=m+B+h.inGraphDataPaddingX),1==h.inGraphDataYPosition?p=A-F-h.inGraphDataPaddingY:2==h.inGraphDataYPosition?p=A-(b(h,1*a.datasets[k].data[l],o,n)+h.barStrokeWidth/2)/2-h.inGraphDataPaddingY:3==h.inGraphDataYPosition&&(p=A-b(h,1*a.datasets[k].data[l],o,n)+h.barStrokeWidth/2-h.inGraphDataPaddingY),i.translate(q,p);var r=tmplbis(h.inGraphDataTmpl,{config:h,v1:fmtChartJS(h,lgtxt,h.fmtV1),v2:fmtChartJS(h,lgtxt2,h.fmtV2),v3:fmtChartJS(h,1*a.datasets[k].data[l],h.fmtV3),v4:fmtChartJS(h,g[l],h.fmtV4),v5:fmtChartJS(h,j[l],h.fmtV5),v6:roundToWithThousands(h,fmtChartJS(h,100*a.datasets[k].data[l]/j[l],h.fmtV6),h.roundPct),v7:fmtChartJS(h,m,h.fmtV7),v8:fmtChartJS(h,d,h.fmtV8),v9:fmtChartJS(h,m+B,h.fmtV9),v10:fmtChartJS(h,e,h.fmtV10),v11:fmtChartJS(h,k,h.fmtV11),v12:fmtChartJS(h,l,h.fmtV12)});i.rotate(h.inGraphDataRotate*(Math.PI/180)),i.fillText(r,0,0),i.restore(),g[l]+=1*a.datasets[k].data[l]}}}}function k(){i.lineWidth=h.scaleLineWidth,i.strokeStyle=h.scaleLineColor,i.beginPath(),i.moveTo(z-h.scaleTickSizeLeft,A),i.lineTo(z+C.availableWidth+h.scaleTickSizeRight,A),i.stroke();for(var b=0;b<a.labels.length;b++)i.beginPath(),i.moveTo(z+b*y,A+h.scaleTickSizeBottom),i.lineWidth=h.scaleGridLineWidth,i.strokeStyle=h.scaleGridLineColor,h.scaleShowGridLines&&b>0&&b%h.scaleXGridLinesStep==0?i.lineTo(z+b*y,A-C.availableHeight-h.scaleTickSizeTop):i.lineTo(z+b*y,A),i.stroke();i.lineWidth=h.scaleLineWidth,i.strokeStyle=h.scaleLineColor,i.beginPath(),i.moveTo(z,A+h.scaleTickSizeBottom),i.lineTo(z,A-C.availableHeight-h.scaleTickSizeTop),i.stroke();for(var c=0;c<o.steps;c++)i.beginPath(),i.moveTo(z-h.scaleTickSizeLeft,A-(c+1)*n),i.lineWidth=h.scaleGridLineWidth,i.strokeStyle=h.scaleGridLineColor,h.scaleShowGridLines&&c%h.scaleYGridLinesStep==0?i.lineTo(z+C.availableWidth+h.scaleTickSizeRight,A-(c+1)*n):i.lineTo(z,A-(c+1)*n),i.stroke()}function l(){if(i.font=h.scaleFontStyle+" "+h.scaleFontSize+"px "+h.scaleFontFamily,(h.xAxisTop||h.xAxisBottom)&&(i.textBaseline="top",C.rotateLabels>90?(i.save(),i.textAlign="left"):C.rotateLabels>0?(i.save(),i.textAlign="right"):i.textAlign="center",i.fillStyle=h.scaleFontColor,h.xAxisBottom))for(var b=0;b<a.labels.length;b++)i.save(),C.rotateLabels>0?(i.translate(z+b*y+y/2-h.scaleFontSize/2,C.xLabelPos),i.rotate(-(C.rotateLabels*(Math.PI/180))),i.fillText(fmtChartJS(h,a.labels[b],h.fmtXLabel),0,0)):i.fillText(fmtChartJS(h,a.labels[b],h.fmtXLabel),z+b*y+y/2,C.xLabelPos),i.restore();i.textAlign="right",i.textBaseline="middle";for(var c=h.showYAxisMin?-1:0;c<o.steps;c++)h.scaleShowLabels&&(h.yAxisLeft&&(i.textAlign="right",i.fillText(o.labels[c+1],z-(h.scaleTickSizeLeft+3),A-(c+1)*n)),h.yAxisRight&&(i.textAlign="left",i.fillText(o.labels[c+1],z+C.availableWidth+(h.scaleTickSizeRight+3),A-(c+1)*n)))}function m(){for(var b=Number.MIN_VALUE,c=Number.MAX_VALUE,d=0;d<a.datasets.length;d++)for(var e=0;e<a.datasets[d].data.length;e++)1*a.datasets[d].data[e]>b&&(b=1*a.datasets[d].data[e]),1*a.datasets[d].data[e]<c&&(c=1*a.datasets[d].data[e]);Math.abs(b-c)<1e-8&&(b=g([2*b,1]),c=0),isNaN(h.graphMin)||(c=h.graphMin),isNaN(h.graphMax)||(b=h.graphMax);var f=Math.floor(t/(.66*q)),i=Math.floor(t/q*.5);return{maxValue:b,minValue:c,maxDailySteps:f,minSteps:i}}var n,o,q,t,u,x,y,z,A,B,C,D=0;if(dynamicFunction(a,h,i,"Bar")){jsGraphAnnotate[i.canvas.id]=new Array,s(i,a,h,"Bar"),r(i,h),u=m(),h.logarithmic!==!1&&u.minValue<=0&&(h.logarithmic=!1);var E=e(Math.pow(10,e(u.maxValue)+1))-e(Math.pow(10,e(u.minValue)));("fuzzy"==h.logarithmic&&4>E||h.scaleOverride)&&(h.logarithmic=!1),x=h.scaleShowLabels?h.scaleLabel:"",h.scaleOverride?(o={steps:h.scaleSteps,stepValue:h.scaleStepWidth,graphMin:h.scaleStartValue,graphMax:h.scaleStartValue+h.scaleSteps*h.scaleStepWidth,labels:[]},f(h,x,o.labels,o.steps,h.scaleStartValue,o.graphMax,h.scaleStepWidth),C=p(a,h,i,w,v,o.labels,!0,!1,!0,!0)):(o=d(h,u.maxDailySteps,u.minSteps,u.maxValue,u.minValue,x),C=p(a,h,i,w,v,o.labels,!0,!1,!0,!0)),C.availableHeight=C.availableHeight-h.scaleTickSizeBottom-h.scaleTickSizeTop,C.availableWidth=C.availableWidth-h.scaleTickSizeLeft-h.scaleTickSizeRight,n=Math.floor(C.availableHeight/o.steps),y=Math.floor(C.availableWidth/a.labels.length),0==y&&(y=C.availableWidth/(a.labels.length-1)),C.clrwidth=C.clrwidth-(C.availableWidth-a.labels.length*y),C.availableWidth=a.labels.length*y,C.availableHeight=o.steps*n,z=C.leftNotUsableSize+h.scaleTickSizeLeft,A=C.topNotUsableSize+C.availableHeight+h.scaleTickSizeTop,B=(y-2*h.scaleGridLineWidth-2*h.barValueSpacing-(h.barDatasetSpacing*a.datasets.length-1)-(h.barStrokeWidth/2*a.datasets.length-1))/a.datasets.length;var F=0;if(u.minValue<0)var F=b(h,0,o,n);l(),c(h,k,j,i,C.clrx,C.clry,C.clrwidth,C.clrheight,z+C.availableWidth/2,A-C.availableHeight/2,z,A,a)}},G=function(a,e,h){function i(c){for(var d=new Array,f=new Array,g=0;g<a.datasets.length;g++)for(var i=0;i<a.datasets[g].data.length;i++)d[i]=0,f[i]=0;for(var g=0;g<a.datasets.length;g++)for(var i=0;i<a.datasets[g].data.length;i++)"undefined"!=typeof a.datasets[g].data[i]&&(f[i]+=1*a.datasets[g].data[i]);h.lineWidth=e.barStrokeWidth;for(var g=0;g<a.datasets.length;g++){h.fillStyle=a.datasets[g].fillColor,h.strokeStyle=a.datasets[g].strokeColor,c>=1&&(lgtxt="string"==typeof a.datasets[g].title?a.datasets[g].title.trim():"");for(var i=0;i<a.datasets[g].data.length;i++)if("undefined"!=typeof a.datasets[g].data[i]){var j=z+e.barValueSpacing-m*(i+1)+A*g+e.barDatasetSpacing*g+e.barStrokeWidth*g;a.datasets[g].hasOwnProperty("dataFillColors")&&a.datasets[g].dataFillColors.hasOwnProperty(i)&&(h.fillStyle=a.datasets[g].dataFillColors[i]),h.beginPath(),h.moveTo(y+D,j),h.lineTo(y+c*b(e,1*a.datasets[g].data[i],n,x)+e.barStrokeWidth/2,j),h.lineTo(y+c*b(e,1*a.datasets[g].data[i],n,x)+e.barStrokeWidth/2,j+A),h.lineTo(y+D,j+A),e.barShowStroke&&h.stroke(),h.closePath(),h.fill(),d[i]+=1*a.datasets[g].data[i],c>=1&&(lgtxt2="string"==typeof a.labels[i]?a.labels[i].trim():"",t1=y+D,t2=y+b(e,1*a.datasets[g].data[i],n,x)+e.barStrokeWidth/2,t1>t2&&(t3=t1,t1=t2,t2=t3),jsGraphAnnotate[h.canvas.id][C++]=["RECT",t1,j+A,t2,j,lgtxt,lgtxt2,1*a.datasets[g].data[i],d[i],f[i],g,i])}}if(c>=1&&e.inGraphDataShow){for(var g=0;g<a.datasets.length;g++)for(var i=0;i<a.datasets[g].data.length;i++)d[i]=0;for(var g=0;g<a.datasets.length;g++){lgtxt="string"==typeof a.datasets[g].title?a.datasets[g].title.trim():"";for(var i=0;i<a.datasets[g].data.length;i++)if("undefined"!=typeof a.datasets[g].data[i]){"string"==typeof a.labels[i]&&(lgtxt2=a.labels[i].trim()),h.save(),h.textAlign=e.inGraphDataAlign,h.textBaseline=e.inGraphDataVAlign,h.font=e.inGraphDataFontStyle+" "+e.inGraphDataFontSize+"px "+e.inGraphDataFontFamily,h.fillStyle=e.inGraphDataFontColor;var j=z+e.barValueSpacing-m*(i+1)+A*g+e.barDatasetSpacing*g+e.barStrokeWidth*g;t1=y+D,t2=y+b(e,1*a.datasets[g].data[i],n,x)+e.barStrokeWidth/2,t1>t2&&(t3=t1,t1=t2,t2=t3),h.beginPath();var k=0,l=0;1==e.inGraphDataYPosition?k=j-e.inGraphDataPaddingY+A:2==e.inGraphDataYPosition?k=j+A/2-e.inGraphDataPaddingY:3==e.inGraphDataYPosition&&(k=j-e.inGraphDataPaddingY),1==e.inGraphDataXPosition?l=y+D+e.inGraphDataPaddingX:2==e.inGraphDataXPosition?l=y+(b(e,1*a.datasets[g].data[i],n,x)+e.barStrokeWidth/2)/2+e.inGraphDataPaddingX:3==e.inGraphDataXPosition&&(l=y+b(e,1*a.datasets[g].data[i],n,x)+e.barStrokeWidth/2+e.inGraphDataPaddingX),h.translate(l,k);var o=tmplbis(e.inGraphDataTmpl,{config:e,v1:fmtChartJS(e,lgtxt,e.fmtV1),v2:fmtChartJS(e,lgtxt2,e.fmtV2),v3:fmtChartJS(e,1*a.datasets[g].data[i],e.fmtV3),v4:fmtChartJS(e,d[i],e.fmtV4),v5:fmtChartJS(e,f[i],e.fmtV5),v6:roundToWithThousands(e,fmtChartJS(e,100*a.datasets[g].data[i]/f[i],e.fmtV6),e.roundPct),v7:fmtChartJS(e,t1,e.fmtV7),v8:fmtChartJS(e,j+A,e.fmtV8),v9:fmtChartJS(e,t2,e.fmtV9),v10:fmtChartJS(e,j,e.fmtV10),v11:fmtChartJS(e,g,e.fmtV11),v12:fmtChartJS(e,i,e.fmtV12)});h.rotate(e.inGraphDataRotate*(Math.PI/180)),h.fillText(o,0,0),h.restore(),d[i]+=1*a.datasets[g].data[i]}}}}function j(){h.lineWidth=e.scaleLineWidth,h.strokeStyle=e.scaleLineColor,h.beginPath(),h.moveTo(y-e.scaleTickSizeLeft,z),h.lineTo(y+B.availableWidth+e.scaleTickSizeRight,z),h.stroke();for(var b=e.showYAxisMin?-1:0;b<n.steps;b++)b>=0&&(h.beginPath(),h.moveTo(y+b*x,z+e.scaleTickSizeBottom),h.lineWidth=e.scaleGridLineWidth,h.strokeStyle=e.scaleGridLineColor,e.scaleShowGridLines&&b>0&&b%e.scaleXGridLinesStep==0?h.lineTo(y+b*x,z-B.availableHeight-e.scaleTickSizeTop):h.lineTo(y+b*x,z),h.stroke());h.lineWidth=e.scaleLineWidth,h.strokeStyle=e.scaleLineColor,h.beginPath(),h.moveTo(y,z+e.scaleTickSizeBottom),h.lineTo(y,z-B.availableHeight-e.scaleTickSizeTop),h.stroke();for(var c=0;c<a.labels.length;c++)h.beginPath(),h.moveTo(y-e.scaleTickSizeLeft,z-(c+1)*m),h.lineWidth=e.scaleGridLineWidth,h.strokeStyle=e.scaleGridLineColor,e.scaleShowGridLines&&c%e.scaleYGridLinesStep==0?h.lineTo(y+B.availableWidth+e.scaleTickSizeRight,z-(c+1)*m):h.lineTo(y,z-(c+1)*m),h.stroke()}function k(){if(h.font=e.scaleFontStyle+" "+e.scaleFontSize+"px "+e.scaleFontFamily,(e.xAxisTop||e.xAxisBottom)&&(h.textBaseline="top",B.rotateLabels>90?(h.save(),h.textAlign="left"):B.rotateLabels>0?(h.save(),h.textAlign="right"):h.textAlign="center",h.fillStyle=e.scaleFontColor,e.xAxisBottom))for(var b=e.showYAxisMin?-1:0;b<n.steps;b++)h.save(),B.rotateLabels>0?(h.translate(y+(b+1)*x-e.scaleFontSize/2,B.xLabelPos),h.rotate(-(B.rotateLabels*(Math.PI/180))),h.fillText(n.labels[b+1],0,0)):h.fillText(n.labels[b+1],y+(b+1)*x,B.xLabelPos),h.restore();h.textAlign="right",h.textBaseline="middle";for(var c=0;c<a.labels.length;c++)e.scaleShowLabels&&(e.yAxisLeft&&(h.textAlign="right",h.fillText(fmtChartJS(e,a.labels[c],e.fmtXLabel),y-(e.scaleTickSizeLeft+3),z-c*m-m/2)),e.yAxisRight&&(h.textAlign="left",h.fillText(fmtChartJS(e,a.labels[c],e.fmtXLabel),y+B.availableWidth+(e.scaleTickSizeRight+3),z-c*m-m/2)))}function l(){for(var b=Number.MIN_VALUE,c=Number.MAX_VALUE,d=0;d<a.datasets.length;d++)for(var f=0;f<a.datasets[d].data.length;f++)1*a.datasets[d].data[f]>b&&(b=1*a.datasets[d].data[f]),1*a.datasets[d].data[f]<c&&(c=1*a.datasets[d].data[f]);Math.abs(b-c)<1e-8&&(b=g([2*b,1]),c=0),isNaN(e.graphMin)||(c=e.graphMin),isNaN(e.graphMax)||(b=e.graphMax);var h=Math.floor(q/(.66*o)),i=Math.floor(q/o*.5);return{maxValue:b,minValue:c,maxDailySteps:h,minSteps:i}}var m,n,o,q,t,u,x,y,z,A,B;if(dynamicFunction(a,e,h,"HorizontalBar")){var C=0;jsGraphAnnotate[h.canvas.id]=new Array,s(h,a,e,"HorizontalBar"),r(h,e),t=l(),u=e.scaleShowLabels?e.scaleLabel:"",e.scaleOverride?(n={steps:e.scaleSteps,stepValue:e.scaleStepWidth,graphMin:e.scaleStartValue,graphMax:e.scaleStartValue+e.scaleSteps*e.scaleStepWidth,labels:[]},f(e,u,n.labels,n.steps,e.scaleStartValue,n.graphMax,e.scaleStepWidth),B=p(a,e,h,w,v,n.labels,!0,!0,!0,!0)):(n=d(e,t.maxDailySteps,t.minSteps,t.maxValue,t.minValue,u),B=p(a,e,h,w,v,n.labels,!0,!0,!0,!0)),B.availableHeight=B.availableHeight-e.scaleTickSizeBottom-e.scaleTickSizeTop,B.availableWidth=B.availableWidth-e.scaleTickSizeLeft-e.scaleTickSizeRight,m=Math.floor(B.availableHeight/a.labels.length),x=Math.floor(B.availableWidth/n.steps),0==x&&(x=B.availableWidth/(a.labels.length-1)),B.clrwidth=B.clrwidth-(B.availableWidth-n.steps*x),B.availableWidth=n.steps*x,B.availableHeight=a.labels.length*m,y=B.leftNotUsableSize+e.scaleTickSizeLeft,z=B.topNotUsableSize+B.availableHeight+e.scaleTickSizeTop,A=(m-2*e.scaleGridLineWidth-2*e.barValueSpacing-(e.barDatasetSpacing*a.datasets.length-1)-(e.barStrokeWidth/2*a.datasets.length-1))/a.datasets.length;var D=0;if(t.minValue<0)var D=b(e,0,n,x);k(),c(e,j,i,h,B.clrx,B.clry,B.clrwidth,B.clrheight,y+B.availableWidth/2,z-B.availableHeight/2,y,z,a)}},H=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),I={}},!function(a){a.fn.equalHeights=function(){var b=0,c=a(this);return c.each(function(){var c=a(this).innerHeight();c>b&&(b=c)}),c.css("height",b)},a("[data-equal]").each(function(){var b=a(this),c=b.data("equal");b.find(c).equalHeights()})}(jQuery),function(a){function b(a){return a.replace(/(:|\.)/g,"\\$1")}var c="1.4.13",d={},e={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficent:2,preventDefault:!0},f=function(b){var c=[],d=!1,e=b.dir&&"left"==b.dir?"scrollLeft":"scrollTop";return this.each(function(){if(this!=document&&this!=window){var b=a(this);b[e]()>0?c.push(this):(b[e](1),d=b[e]()>0,d&&c.push(this),b[e](0))}}),c.length||this.each(function(){"BODY"===this.nodeName&&(c=[this])}),"first"===b.el&&c.length>1&&(c=[c[0]]),c};a.fn.extend({scrollable:function(a){var b=f.call(this,{dir:a});return this.pushStack(b)},firstScrollable:function(a){var b=f.call(this,{el:"first",dir:a});return this.pushStack(b)},smoothScroll:function(c,d){if(c=c||{},"options"===c)return d?this.each(function(){var b=a(this),c=a.extend(b.data("ssOpts")||{},d);a(this).data("ssOpts",c)}):this.first().data("ssOpts");var e=a.extend({},a.fn.smoothScroll.defaults,c),f=a.smoothScroll.filterPath(location.pathname);return this.unbind("click.smoothscroll").bind("click.smoothscroll",function(c){var d=this,g=a(this),h=a.extend({},e,g.data("ssOpts")||{}),i=e.exclude,j=h.excludeWithin,k=0,l=0,m=!0,n={},o=location.hostname===d.hostname||!d.hostname,p=h.scrollTarget||(a.smoothScroll.filterPath(d.pathname)||f)===f,q=b(d.hash);if(h.scrollTarget||o&&p&&q){for(;m&&i.length>k;)g.is(b(i[k++]))&&(m=!1);for(;m&&j.length>l;)g.closest(j[l++]).length&&(m=!1)}else m=!1;m&&(h.preventDefault&&c.preventDefault(),a.extend(n,h,{scrollTarget:h.scrollTarget||q,link:d}),a.smoothScroll(n))}),this}}),a.smoothScroll=function(b,c){if("options"===b&&"object"==typeof c)return a.extend(d,c);var e,f,g,h,i=0,j="offset",k="scrollTop",l={},m={};"number"==typeof b?(e=a.extend({link:null},a.fn.smoothScroll.defaults,d),g=b):(e=a.extend({link:null},a.fn.smoothScroll.defaults,b||{},d),e.scrollElement&&(j="position","static"==e.scrollElement.css("position")&&e.scrollElement.css("position","relative"))),k="left"==e.direction?"scrollLeft":k,e.scrollElement?(f=e.scrollElement,/^(?:HTML|BODY)$/.test(f[0].nodeName)||(i=f[k]())):f=a("html, body").firstScrollable(e.direction),e.beforeScroll.call(f,e),g="number"==typeof b?b:c||a(e.scrollTarget)[j]()&&a(e.scrollTarget)[j]()[e.direction]||0,l[k]=g+i+e.offset,h=e.speed,"auto"===h&&(h=l[k]||f.scrollTop(),h/=e.autoCoefficent),m={duration:h,easing:e.easing,complete:function(){e.afterScroll.call(e.link,e)}},e.step&&(m.step=e.step),f.length?f.stop().animate(l,m):e.afterScroll.call(e.link,e)},a.smoothScroll.version=c,a.smoothScroll.filterPath=function(a){return a.replace(/^\//,"").replace(/(?:index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},a.fn.smoothScroll.defaults=e}(jQuery),function(a,b){var c,d=a.jQuery||a.Cowboy||(a.Cowboy={});d.throttle=c=function(a,c,e,f){function g(){function d(){i=+new Date,e.apply(j,l)}function g(){h=b}var j=this,k=+new Date-i,l=arguments;f&&!h&&d(),h&&clearTimeout(h),f===b&&k>a?d():c!==!0&&(h=setTimeout(f?g:d,f===b?a-k:a))}var h,i=0;return"boolean"!=typeof c&&(f=e,e=c,c=b),d.guid&&(g.guid=e.guid=e.guid||d.guid++),g},d.debounce=function(a,d,e){return e===b?c(a,d,!1):c(a,e,d!==!1)}}(this),function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,x=function(a){return a instanceof x?a:this instanceof x?void(this._wrapped=a):new x(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):a._=x,x.VERSION="1.6.0";var y=x.each=x.forEach=function(a,b,d){if(null==a)return a;if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g=x.keys(a),e=0,f=g.length;f>e;e++)if(b.call(d,a[g[e]],g[e],a)===c)return;return a};x.map=x.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(y(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)};var z="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(y(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(z);return c},x.reduceRight=x.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=x.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=x.keys(a);f=g.length}if(y(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(z);return c},x.find=x.detect=function(a,b,c){var d;return A(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},x.filter=x.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(y(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},x.reject=function(a,b,c){return x.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},x.every=x.all=function(a,b,d){b||(b=x.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(y(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var A=x.some=x.any=function(a,b,d){b||(b=x.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(y(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};x.contains=x.include=function(a,b){return null==a?!1:s&&a.indexOf===s?-1!=a.indexOf(b):A(a,function(a){return a===b})},x.invoke=function(a,b){var c=h.call(arguments,2),d=x.isFunction(b);return x.map(a,function(a){return(d?b:a[b]).apply(a,c)})},x.pluck=function(a,b){return x.map(a,x.property(b))},x.where=function(a,b){return x.filter(a,x.matches(b))},x.findWhere=function(a,b){return x.find(a,x.matches(b))},x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);var d=-1/0,e=-1/0;return y(a,function(a,f,g){var h=b?b.call(c,a,f,g):a;h>e&&(d=a,e=h)}),d},x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);var d=1/0,e=1/0;return y(a,function(a,f,g){var h=b?b.call(c,a,f,g):a;e>h&&(d=a,e=h)}),d},x.shuffle=function(a){var b,c=0,d=[];return y(a,function(a){b=x.random(c++),d[c-1]=d[b],d[b]=a}),d},x.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=x.values(a)),a[x.random(a.length-1)]):x.shuffle(a).slice(0,Math.max(0,b))};var B=function(a){return null==a?x.identity:x.isFunction(a)?a:x.property(a)};x.sortBy=function(a,b,c){return b=B(b),x.pluck(x.map(a,function(a,d,e){return{value:a,index:d,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var C=function(a){return function(b,c,d){var e={};return c=B(c),y(b,function(f,g){var h=c.call(d,f,g,b);a(e,h,f)}),e}};x.groupBy=C(function(a,b,c){x.has(a,b)?a[b].push(c):a[b]=[c]}),x.indexBy=C(function(a,b,c){a[b]=c}),x.countBy=C(function(a,b){x.has(a,b)?a[b]++:a[b]=1}),x.sortedIndex=function(a,b,c,d){c=B(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},x.toArray=function(a){return a?x.isArray(a)?h.call(a):a.length===+a.length?x.map(a,x.identity):x.values(a):[]},x.size=function(a){return null==a?0:a.length===+a.length?a.length:x.keys(a).length},x.first=x.head=x.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:0>b?[]:h.call(a,0,b)},x.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},x.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},x.rest=x.tail=x.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},x.compact=function(a){return x.filter(a,x.identity)};var D=function(a,b,c){return b&&x.every(a,x.isArray)?i.apply(c,a):(y(a,function(a){x.isArray(a)||x.isArguments(a)?b?g.apply(c,a):D(a,b,c):c.push(a)}),c)};x.flatten=function(a,b){return D(a,b,[])},x.without=function(a){return x.difference(a,h.call(arguments,1))},x.partition=function(a,b){var c=[],d=[];return y(a,function(a){(b(a)?c:d).push(a)}),[c,d]},x.uniq=x.unique=function(a,b,c,d){x.isFunction(b)&&(d=c,c=b,b=!1);var e=c?x.map(a,c,d):a,f=[],g=[];return y(e,function(c,d){(b?d&&g[g.length-1]===c:x.contains(g,c))||(g.push(c),f.push(a[d]))}),f},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(a){var b=h.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,function(b){return x.contains(b,a)})})},x.difference=function(a){var b=i.apply(d,h.call(arguments,1));return x.filter(a,function(a){return!x.contains(b,a)})},x.zip=function(){for(var a=x.max(x.pluck(arguments,"length").concat(0)),b=new Array(a),c=0;a>c;c++)b[c]=x.pluck(arguments,""+c);return b},x.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=x.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},x.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},x.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var E=function(){};x.bind=function(a,b){var c,d;if(w&&a.bind===w)return w.apply(a,h.call(arguments,1));if(!x.isFunction(a))throw new TypeError;return c=h.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(h.call(arguments)));E.prototype=a.prototype;var e=new E;E.prototype=null;var f=a.apply(e,c.concat(h.call(arguments)));return Object(f)===f?f:e}},x.partial=function(a){var b=h.call(arguments,1);return function(){for(var c=0,d=b.slice(),e=0,f=d.length;f>e;e++)d[e]===x&&(d[e]=arguments[c++]);for(;c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}},x.bindAll=function(a){var b=h.call(arguments,1);if(0===b.length)throw new Error("bindAll must be passed function names");return y(b,function(b){a[b]=x.bind(a[b],a)}),a},x.memoize=function(a,b){var c={};return b||(b=x.identity),function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},x.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},x.defer=function(a){return x.delay.apply(x,[a,1].concat(h.call(arguments,1)))},x.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:x.now(),g=null,f=a.apply(d,e),d=e=null};return function(){var j=x.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(g),g=null,h=j,f=a.apply(d,e),d=e=null):g||c.trailing===!1||(g=setTimeout(i,k)),f}},x.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=x.now()-g;b>j?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),f=e=null))};return function(){f=this,e=arguments,g=x.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},x.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},x.wrap=function(a,b){return x.partial(b,a)},x.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},x.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},x.keys=function(a){if(!x.isObject(a))return[];if(v)return v(a);var b=[];for(var c in a)x.has(a,c)&&b.push(c);return b},x.values=function(a){for(var b=x.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},x.pairs=function(a){for(var b=x.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},x.invert=function(a){for(var b={},c=x.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},x.functions=x.methods=function(a){var b=[];for(var c in a)x.isFunction(a[c])&&b.push(c);return b.sort()},x.extend=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},x.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b},x.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)x.contains(c,e)||(b[e]=a[e]);return b},x.defaults=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a},x.tap=function(a,b){return b(a),a};var F=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof x&&(a=a._wrapped),b instanceof x&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;var g=a.constructor,h=b.constructor;if(g!==h&&!(x.isFunction(g)&&g instanceof g&&x.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return!1;c.push(a),d.push(b);var i=0,k=!0;if("[object Array]"==e){if(i=a.length,k=i==b.length)for(;i--&&(k=F(a[i],b[i],c,d)););}else{for(var l in a)if(x.has(a,l)&&(i++,!(k=x.has(b,l)&&F(a[l],b[l],c,d))))break;if(k){for(l in b)if(x.has(b,l)&&!i--)break;k=!i}}return c.pop(),d.pop(),k};x.isEqual=function(a,b){return F(a,b,[],[])},x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===a.length;for(var b in a)if(x.has(a,b))return!1;return!0},x.isElement=function(a){return!(!a||1!==a.nodeType)},x.isArray=u||function(a){return"[object Array]"==j.call(a)},x.isObject=function(a){return a===Object(a)},y(["Arguments","Function","String","Number","Date","RegExp"],function(a){x["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),x.isArguments(arguments)||(x.isArguments=function(a){return!(!a||!x.has(a,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(a){return"function"==typeof a}),x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},x.isNaN=function(a){return x.isNumber(a)&&a!=+a},x.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},x.isNull=function(a){return null===a},x.isUndefined=function(a){return void 0===a},x.has=function(a,b){return k.call(a,b)},x.noConflict=function(){return a._=b,this},x.identity=function(a){return a},x.constant=function(a){return function(){return a}},x.property=function(a){return function(b){return b[a]}},x.matches=function(a){return function(b){if(b===a)return!0;for(var c in a)if(a[c]!==b[c])return!1;return!0}},x.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;a>e;e++)d[e]=b.call(c,e);return d},x.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},x.now=Date.now||function(){return(new Date).getTime()};var G={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};G.unescape=x.invert(G.escape);var H={escape:new RegExp("["+x.keys(G.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(G.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(H[a],function(b){return G[a][b]})}}),x.result=function(a,b){if(null==a)return void 0;var c=a[b];return x.isFunction(c)?c.call(a):c},x.mixin=function(a){y(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),M.call(this,c.apply(x,a))}})};var I=0;x.uniqueId=function(a){var b=++I+"";return a?a+b:b},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var J=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(a,b,c){var d;c=x.defaults({},c,x.templateSettings);var e=new RegExp([(c.escape||J).source,(c.interpolate||J).source,(c.evaluate||J).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(L,function(a){return"\\"+K[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,x);var i=function(a){return d.call(this,a,x)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},x.chain=function(a){return x(a).chain()};var M=function(a){return this._chain?x(a).chain():a};x.mixin(x),y(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];x.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],M.call(this,c)}}),y(["concat","join","slice"],function(a){var b=d[a];x.prototype[a]=function(){return M.call(this,b.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return x})}.call(this),function(a){function b(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw new Error("Implement me")}}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}
}function d(a,b){function c(){mb.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}var d=!0;return j(function(){return d&&(c(),d=!1),b.apply(this,arguments)},b)}function e(a,b){return function(c){return m(a.call(this,c),b)}}function f(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function g(){}function h(a){z(a),j(this,a)}function i(a){var b=s(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._bubble()}function j(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return b.hasOwnProperty("toString")&&(a.toString=b.toString),b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf),a}function k(a){var b,c={};for(b in a)a.hasOwnProperty(b)&&Ab.hasOwnProperty(b)&&(c[b]=a[b]);return c}function l(a){return 0>a?Math.ceil(a):Math.floor(a)}function m(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function n(a,b,c,d){var e=b._milliseconds,f=b._days,g=b._months;d=null==d?!0:d,e&&a._d.setTime(+a._d+e*c),f&&hb(a,"Date",gb(a,"Date")+f*c),g&&fb(a,gb(a,"Month")+g*c),d&&mb.updateOffset(a,f||g)}function o(a){return"[object Array]"===Object.prototype.toString.call(a)}function p(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function q(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&u(a[d])!==u(b[d]))&&g++;return g+f}function r(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=bc[a]||cc[b]||b}return a}function s(a){var b,c,d={};for(c in a)a.hasOwnProperty(c)&&(b=r(c),b&&(d[b]=a[c]));return d}function t(b){var c,d;if(0===b.indexOf("week"))c=7,d="day";else{if(0!==b.indexOf("month"))return;c=12,d="month"}mb[b]=function(e,f){var g,h,i=mb.fn._lang[b],j=[];if("number"==typeof e&&(f=e,e=a),h=function(a){var b=mb().utc().set(d,a);return i.call(mb.fn._lang,b,e||"")},null!=f)return h(f);for(g=0;c>g;g++)j.push(h(g));return j}}function u(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function v(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function w(a,b,c){return bb(mb([a,11,31+b-c]),b,c).week}function x(a){return y(a)?366:365}function y(a){return a%4===0&&a%100!==0||a%400===0}function z(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[tb]<0||a._a[tb]>11?tb:a._a[ub]<1||a._a[ub]>v(a._a[sb],a._a[tb])?ub:a._a[vb]<0||a._a[vb]>23?vb:a._a[wb]<0||a._a[wb]>59?wb:a._a[xb]<0||a._a[xb]>59?xb:a._a[yb]<0||a._a[yb]>999?yb:-1,a._pf._overflowDayOfYear&&(sb>b||b>ub)&&(b=ub),a._pf.overflow=b)}function A(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&a._pf.overflow<0&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length)),a._isValid}function B(a){return a?a.toLowerCase().replace("_","-"):a}function C(a,b){return b._isUTC?mb(a).zone(b._offset||0):mb(a).local()}function D(a,b){return b.abbr=a,zb[a]||(zb[a]=new g),zb[a].set(b),zb[a]}function E(a){delete zb[a]}function F(a){var b,c,d,e,f=0,g=function(a){if(!zb[a]&&Bb)try{require("./lang/"+a)}catch(b){}return zb[a]};if(!a)return mb.fn._lang;if(!o(a)){if(c=g(a))return c;a=[a]}for(;f<a.length;){for(e=B(a[f]).split("-"),b=e.length,d=B(a[f+1]),d=d?d.split("-"):null;b>0;){if(c=g(e.slice(0,b).join("-")))return c;if(d&&d.length>=b&&q(e,d,!0)>=b-1)break;b--}f++}return mb.fn._lang}function G(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function H(a){var b,c,d=a.match(Fb);for(b=0,c=d.length;c>b;b++)d[b]=hc[d[b]]?hc[d[b]]:G(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function I(a,b){return a.isValid()?(b=J(b,a.lang()),dc[b]||(dc[b]=H(b)),dc[b](a)):a.lang().invalidDate()}function J(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Gb.lastIndex=0;d>=0&&Gb.test(a);)a=a.replace(Gb,c),Gb.lastIndex=0,d-=1;return a}function K(a,b){var c,d=b._strict;switch(a){case"Q":return Rb;case"DDDD":return Tb;case"YYYY":case"GGGG":case"gggg":return d?Ub:Jb;case"Y":case"G":case"g":return Wb;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return d?Vb:Kb;case"S":if(d)return Rb;case"SS":if(d)return Sb;case"SSS":if(d)return Tb;case"DDD":return Ib;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Mb;case"a":case"A":return F(b._l)._meridiemParse;case"X":return Pb;case"Z":case"ZZ":return Nb;case"T":return Ob;case"SSSS":return Lb;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return d?Sb:Hb;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Hb;case"Do":return Qb;default:return c=new RegExp(T(S(a.replace("\\","")),"i"))}}function L(a){a=a||"";var b=a.match(Nb)||[],c=b[b.length-1]||[],d=(c+"").match(_b)||["-",0,0],e=+(60*d[1])+u(d[2]);return"+"===d[0]?-e:e}function M(a,b,c){var d,e=c._a;switch(a){case"Q":null!=b&&(e[tb]=3*(u(b)-1));break;case"M":case"MM":null!=b&&(e[tb]=u(b)-1);break;case"MMM":case"MMMM":d=F(c._l).monthsParse(b),null!=d?e[tb]=d:c._pf.invalidMonth=b;break;case"D":case"DD":null!=b&&(e[ub]=u(b));break;case"Do":null!=b&&(e[ub]=u(parseInt(b,10)));break;case"DDD":case"DDDD":null!=b&&(c._dayOfYear=u(b));break;case"YY":e[sb]=mb.parseTwoDigitYear(b);break;case"YYYY":case"YYYYY":case"YYYYYY":e[sb]=u(b);break;case"a":case"A":c._isPm=F(c._l).isPM(b);break;case"H":case"HH":case"h":case"hh":e[vb]=u(b);break;case"m":case"mm":e[wb]=u(b);break;case"s":case"ss":e[xb]=u(b);break;case"S":case"SS":case"SSS":case"SSSS":e[yb]=u(1e3*("0."+b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=L(b);break;case"dd":case"ddd":case"dddd":d=F(c._l).weekdaysParse(b),null!=d?(c._w=c._w||{},c._w.d=d):c._pf.invalidWeekday=b;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":a=a.substr(0,1);case"gggg":case"GGGG":case"GGGGG":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=u(b));break;case"gg":case"GG":c._w=c._w||{},c._w[a]=mb.parseTwoDigitYear(b)}}function N(a){var c,d,e,f,g,h,i,j;c=a._w,null!=c.GG||null!=c.W||null!=c.E?(g=1,h=4,d=b(c.GG,a._a[sb],bb(mb(),1,4).year),e=b(c.W,1),f=b(c.E,1)):(j=F(a._l),g=j._week.dow,h=j._week.doy,d=b(c.gg,a._a[sb],bb(mb(),g,h).year),e=b(c.w,1),null!=c.d?(f=c.d,g>f&&++e):f=null!=c.e?c.e+g:g),i=cb(d,e,f,h,g),a._a[sb]=i.year,a._dayOfYear=i.dayOfYear}function O(a){var c,d,e,f,g=[];if(!a._d){for(e=Q(a),a._w&&null==a._a[ub]&&null==a._a[tb]&&N(a),a._dayOfYear&&(f=b(a._a[sb],e[sb]),a._dayOfYear>x(f)&&(a._pf._overflowDayOfYear=!0),d=Z(f,0,a._dayOfYear),a._a[tb]=d.getUTCMonth(),a._a[ub]=d.getUTCDate()),c=0;3>c&&null==a._a[c];++c)a._a[c]=g[c]=e[c];for(;7>c;c++)a._a[c]=g[c]=null==a._a[c]?2===c?1:0:a._a[c];a._d=(a._useUTC?Z:Y).apply(null,g),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()+a._tzm)}}function P(a){var b;a._d||(b=s(a._i),a._a=[b.year,b.month,b.day,b.hour,b.minute,b.second,b.millisecond],O(a))}function Q(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function R(a){if(a._f===mb.ISO_8601)return void V(a);a._a=[],a._pf.empty=!0;var b,c,d,e,f,g=F(a._l),h=""+a._i,i=h.length,j=0;for(d=J(a._f,g).match(Fb)||[],b=0;b<d.length;b++)e=d[b],c=(h.match(K(e,a))||[])[0],c&&(f=h.substr(0,h.indexOf(c)),f.length>0&&a._pf.unusedInput.push(f),h=h.slice(h.indexOf(c)+c.length),j+=c.length),hc[e]?(c?a._pf.empty=!1:a._pf.unusedTokens.push(e),M(e,c,a)):a._strict&&!c&&a._pf.unusedTokens.push(e);a._pf.charsLeftOver=i-j,h.length>0&&a._pf.unusedInput.push(h),a._isPm&&a._a[vb]<12&&(a._a[vb]+=12),a._isPm===!1&&12===a._a[vb]&&(a._a[vb]=0),O(a),z(a)}function S(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function T(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function U(a){var b,d,e,f,g;if(0===a._f.length)return a._pf.invalidFormat=!0,void(a._d=new Date(0/0));for(f=0;f<a._f.length;f++)g=0,b=j({},a),b._pf=c(),b._f=a._f[f],R(b),A(b)&&(g+=b._pf.charsLeftOver,g+=10*b._pf.unusedTokens.length,b._pf.score=g,(null==e||e>g)&&(e=g,d=b));j(a,d||b)}function V(a){var b,c,d=a._i,e=Xb.exec(d);if(e){for(a._pf.iso=!0,b=0,c=Zb.length;c>b;b++)if(Zb[b][1].exec(d)){a._f=Zb[b][0]+(e[6]||" ");break}for(b=0,c=$b.length;c>b;b++)if($b[b][1].exec(d)){a._f+=$b[b][0];break}d.match(Nb)&&(a._f+="Z"),R(a)}else a._isValid=!1}function W(a){V(a),a._isValid===!1&&(delete a._isValid,mb.createFromInputFallback(a))}function X(b){var c=b._i,d=Cb.exec(c);c===a?b._d=new Date:d?b._d=new Date(+d[1]):"string"==typeof c?W(b):o(c)?(b._a=c.slice(0),O(b)):p(c)?b._d=new Date(+c):"object"==typeof c?P(b):"number"==typeof c?b._d=new Date(c):mb.createFromInputFallback(b)}function Y(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function Z(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function $(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function _(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function ab(a,b,c){var d=rb(Math.abs(a)/1e3),e=rb(d/60),f=rb(e/60),g=rb(f/24),h=rb(g/365),i=d<ec.s&&["s",d]||1===e&&["m"]||e<ec.m&&["mm",e]||1===f&&["h"]||f<ec.h&&["hh",f]||1===g&&["d"]||g<=ec.dd&&["dd",g]||g<=ec.dm&&["M"]||g<ec.dy&&["MM",rb(g/30)]||1===h&&["y"]||["yy",h];return i[2]=b,i[3]=a>0,i[4]=c,_.apply({},i)}function bb(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=mb(a).add("d",f),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function cb(a,b,c,d,e){var f,g,h=Z(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:x(a-1)+g}}function db(b){var c=b._i,d=b._f;return null===c||d===a&&""===c?mb.invalid({nullInput:!0}):("string"==typeof c&&(b._i=c=F().preparse(c)),mb.isMoment(c)?(b=k(c),b._d=new Date(+c._d)):d?o(d)?U(b):R(b):X(b),new h(b))}function eb(a,b){var c,d;if(1===b.length&&o(b[0])&&(b=b[0]),!b.length)return mb();for(c=b[0],d=1;d<b.length;++d)b[d][a](c)&&(c=b[d]);return c}function fb(a,b){var c;return"string"==typeof b&&(b=a.lang().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),v(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function gb(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function hb(a,b,c){return"Month"===b?fb(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)}function ib(a,b){return function(c){return null!=c?(hb(this,a,c),mb.updateOffset(this,b),this):gb(this,a)}}function jb(a){mb.duration.fn[a]=function(){return this._data[a]}}function kb(a,b){mb.duration.fn["as"+a]=function(){return+this/b}}function lb(a){"undefined"==typeof ender&&(nb=qb.moment,qb.moment=a?d("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",mb):mb)}for(var mb,nb,ob,pb="2.7.0",qb="undefined"!=typeof global?global:this,rb=Math.round,sb=0,tb=1,ub=2,vb=3,wb=4,xb=5,yb=6,zb={},Ab={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_tzm:null,_isUTC:null,_offset:null,_pf:null,_lang:null},Bb="undefined"!=typeof module&&module.exports,Cb=/^\/?Date\((\-?\d+)/i,Db=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Eb=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Fb=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Gb=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Hb=/\d\d?/,Ib=/\d{1,3}/,Jb=/\d{1,4}/,Kb=/[+\-]?\d{1,6}/,Lb=/\d+/,Mb=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Nb=/Z|[\+\-]\d\d:?\d\d/gi,Ob=/T/i,Pb=/[\+\-]?\d+(\.\d{1,3})?/,Qb=/\d{1,2}/,Rb=/\d/,Sb=/\d\d/,Tb=/\d{3}/,Ub=/\d{4}/,Vb=/[+-]?\d{6}/,Wb=/[+-]?\d+/,Xb=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Yb="YYYY-MM-DDTHH:mm:ssZ",Zb=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],$b=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],_b=/([\+\-]|\d\d)/gi,ac=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),bc={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},cc={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},dc={},ec={s:45,m:45,h:22,dd:25,dm:45,dy:345},fc="DDD w W M D d".split(" "),gc="M D H h m s w W".split(" "),hc={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return m(this.year()%100,2)},YYYY:function(){return m(this.year(),4)},YYYYY:function(){return m(this.year(),5)},YYYYYY:function(){var a=this.year(),b=a>=0?"+":"-";return b+m(Math.abs(a),6)},gg:function(){return m(this.weekYear()%100,2)},gggg:function(){return m(this.weekYear(),4)},ggggg:function(){return m(this.weekYear(),5)},GG:function(){return m(this.isoWeekYear()%100,2)},GGGG:function(){return m(this.isoWeekYear(),4)},GGGGG:function(){return m(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return u(this.milliseconds()/100)},SS:function(){return m(u(this.milliseconds()/10),2)},SSS:function(){return m(this.milliseconds(),3)},SSSS:function(){return m(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+m(u(a/60),2)+":"+m(u(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+m(u(a/60),2)+m(u(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},ic=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];fc.length;)ob=fc.pop(),hc[ob+"o"]=f(hc[ob],ob);for(;gc.length;)ob=gc.pop(),hc[ob+ob]=e(hc[ob],2);for(hc.DDDD=e(hc.DDD,3),j(g.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c,d;for(this._monthsParse||(this._monthsParse=[]),b=0;12>b;b++)if(this._monthsParse[b]||(c=mb.utc([2e3,b]),d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=new RegExp(d.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=mb([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"==typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return bb(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),mb=function(b,d,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._i=b,g._f=d,g._l=e,g._strict=f,g._isUTC=!1,g._pf=c(),db(g)},mb.suppressDeprecationWarnings=!1,mb.createFromInputFallback=d("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i)}),mb.min=function(){var a=[].slice.call(arguments,0);return eb("isBefore",a)},mb.max=function(){var a=[].slice.call(arguments,0);return eb("isAfter",a)},mb.utc=function(b,d,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._useUTC=!0,g._isUTC=!0,g._l=e,g._i=b,g._f=d,g._strict=f,g._pf=c(),db(g).utc()},mb.unix=function(a){return mb(1e3*a)},mb.duration=function(a,b){var c,d,e,f=a,g=null;return mb.isDuration(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(f={},b?f[b]=a:f.milliseconds=a):(g=Db.exec(a))?(c="-"===g[1]?-1:1,f={y:0,d:u(g[ub])*c,h:u(g[vb])*c,m:u(g[wb])*c,s:u(g[xb])*c,ms:u(g[yb])*c}):(g=Eb.exec(a))&&(c="-"===g[1]?-1:1,e=function(a){var b=a&&parseFloat(a.replace(",","."));return(isNaN(b)?0:b)*c},f={y:e(g[2]),M:e(g[3]),d:e(g[4]),h:e(g[5]),m:e(g[6]),s:e(g[7]),w:e(g[8])}),d=new i(f),mb.isDuration(a)&&a.hasOwnProperty("_lang")&&(d._lang=a._lang),d},mb.version=pb,mb.defaultFormat=Yb,mb.ISO_8601=function(){},mb.momentProperties=Ab,mb.updateOffset=function(){},mb.relativeTimeThreshold=function(b,c){return ec[b]===a?!1:(ec[b]=c,!0)},mb.lang=function(a,b){var c;return a?(b?D(B(a),b):null===b?(E(a),a="en"):zb[a]||F(a),c=mb.duration.fn._lang=mb.fn._lang=F(a),c._abbr):mb.fn._lang._abbr},mb.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),F(a)},mb.isMoment=function(a){return a instanceof h||null!=a&&a.hasOwnProperty("_isAMomentObject")},mb.isDuration=function(a){return a instanceof i},ob=ic.length-1;ob>=0;--ob)t(ic[ob]);mb.normalizeUnits=function(a){return r(a)},mb.invalid=function(a){var b=mb.utc(0/0);return null!=a?j(b._pf,a):b._pf.userInvalidated=!0,b},mb.parseZone=function(){return mb.apply(null,arguments).parseZone()},mb.parseTwoDigitYear=function(a){return u(a)+(u(a)>68?1900:2e3)},j(mb.fn=h.prototype,{clone:function(){return mb(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=mb(this).utc();return 0<a.year()&&a.year()<=9999?I(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):I(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return A(this)},isDSTShifted:function(){return this._a?this.isValid()&&q(this._a,(this._isUTC?mb.utc(this._a):mb(this._a)).toArray())>0:!1},parsingFlags:function(){return j({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(a){var b=I(this,a||mb.defaultFormat);return this.lang().postformat(b)},add:function(a,b){var c;return c="string"==typeof a&&"string"==typeof b?mb.duration(isNaN(+b)?+a:+b,isNaN(+b)?b:a):"string"==typeof a?mb.duration(+b,a):mb.duration(a,b),n(this,c,1),this},subtract:function(a,b){var c;return c="string"==typeof a&&"string"==typeof b?mb.duration(isNaN(+b)?+a:+b,isNaN(+b)?b:a):"string"==typeof a?mb.duration(+b,a):mb.duration(a,b),n(this,c,-1),this},diff:function(a,b,c){var d,e,f=C(a,this),g=6e4*(this.zone()-f.zone());return b=r(b),"year"===b||"month"===b?(d=432e5*(this.daysInMonth()+f.daysInMonth()),e=12*(this.year()-f.year())+(this.month()-f.month()),e+=(this-mb(this).startOf("month")-(f-mb(f).startOf("month")))/d,e-=6e4*(this.zone()-mb(this).startOf("month").zone()-(f.zone()-mb(f).startOf("month").zone()))/d,"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:l(e)},from:function(a,b){return mb.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(mb(),a)},calendar:function(a){var b=a||mb(),c=C(b,this).startOf("day"),d=this.diff(c,"days",!0),e=-6>d?"sameElse":-1>d?"lastWeek":0>d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){return y(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=$(a,this.lang()),this.add({d:a-b})):b},month:ib("Month",!0),startOf:function(a){switch(a=r(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(a){return a=r(a),this.startOf(a).add("isoWeek"===a?"week":a,1).subtract("ms",1)},isAfter:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)>+mb(a).startOf(b)},isBefore:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)<+mb(a).startOf(b)},isSame:function(a,b){return b=b||"ms",+this.clone().startOf(b)===+C(a,this).startOf(b)},min:d("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){return a=mb.apply(null,arguments),this>a?this:a}),max:d("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(a){return a=mb.apply(null,arguments),a>this?this:a}),zone:function(a,b){var c=this._offset||0;return null==a?this._isUTC?c:this._d.getTimezoneOffset():("string"==typeof a&&(a=L(a)),Math.abs(a)<16&&(a=60*a),this._offset=a,this._isUTC=!0,c!==a&&(!b||this._changeInProgress?n(this,mb.duration(c-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,mb.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?mb(a).zone():0,(this.zone()-a)%60===0},daysInMonth:function(){return v(this.year(),this.month())},dayOfYear:function(a){var b=rb((mb(this).startOf("day")-mb(this).startOf("year"))/864e5)+1;return null==a?b:this.add("d",a-b)},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=bb(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=bb(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=bb(this,1,4).week;return null==a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this.day()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return w(this.year(),1,4)},weeksInYear:function(){var a=this._lang._week;return w(this.year(),a.dow,a.doy)},get:function(a){return a=r(a),this[a]()},set:function(a,b){return a=r(a),"function"==typeof this[a]&&this[a](b),this},lang:function(b){return b===a?this._lang:(this._lang=F(b),this)}}),mb.fn.millisecond=mb.fn.milliseconds=ib("Milliseconds",!1),mb.fn.second=mb.fn.seconds=ib("Seconds",!1),mb.fn.minute=mb.fn.minutes=ib("Minutes",!1),mb.fn.hour=mb.fn.hours=ib("Hours",!0),mb.fn.date=ib("Date",!0),mb.fn.dates=d("dates accessor is deprecated. Use date instead.",ib("Date",!0)),mb.fn.year=ib("FullYear",!0),mb.fn.years=d("years accessor is deprecated. Use year instead.",ib("FullYear",!0)),mb.fn.days=mb.fn.day,mb.fn.months=mb.fn.month,mb.fn.weeks=mb.fn.week,mb.fn.isoWeeks=mb.fn.isoWeek,mb.fn.quarters=mb.fn.quarter,mb.fn.toJSON=mb.fn.toISOString,j(mb.duration.fn=i.prototype,{_bubble:function(){var a,b,c,d,e=this._milliseconds,f=this._days,g=this._months,h=this._data;h.milliseconds=e%1e3,a=l(e/1e3),h.seconds=a%60,b=l(a/60),h.minutes=b%60,c=l(b/60),h.hours=c%24,f+=l(c/24),h.days=f%30,g+=l(f/30),h.months=g%12,d=l(g/12),h.years=d},weeks:function(){return l(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*u(this._months/12)},humanize:function(a){var b=+this,c=ab(b,!a,this.lang());return a&&(c=this.lang().pastFuture(b,c)),this.lang().postformat(c)},add:function(a,b){var c=mb.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=mb.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=r(a),this[a.toLowerCase()+"s"]()},as:function(a){return a=r(a),this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:mb.fn.lang,toIsoString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"}});for(ob in ac)ac.hasOwnProperty(ob)&&(kb(ob,ac[ob]),jb(ob.toLowerCase()));kb("Weeks",6048e5),mb.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},mb.lang("en",{ordinal:function(a){var b=a%10,c=1===u(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),Bb?module.exports=mb:"function"==typeof define&&define.amd?(define("moment",function(a,b,c){return c.config&&c.config()&&c.config().noGlobal===!0&&(qb.moment=nb),mb}),lb(!0)):lb()}.call(this);